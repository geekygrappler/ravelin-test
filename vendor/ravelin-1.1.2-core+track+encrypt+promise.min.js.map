{"version":3,"file":"ravelin-core+track+encrypt+promise.min.js","sources":["../lib/util.js","../lib/version.js","../lib/cookies.js","../lib/core.js","../lib/track.js","../lib/encryption-vendored.js","../lib/encrypt.js","../node_modules/yaku/lib/yaku.aplus.js","../lib/bundle/core+track+encrypt+promise.js"],"sourcesContent":["/**\n * @private\n * @module ravelinjs/util\n */\n\n/**\n * bind wraps a function.\n * @param {Function} fn The function to be called.\n * @param {*} thisArg The 'this' of the invoked fn.\n * @param {...*} [args] Arguments to add to the start of the function call.\n * @returns {Function}\n */\nexport function bind(fn, thisArg, args) {\n  args = Array.prototype.slice.call(arguments, 2);\n  if (!Function.prototype.bind) {\n    return function () {\n      return fn.apply(thisArg, args.concat(Array.prototype.slice.call(arguments)));\n    };\n  }\n  return Function.prototype.bind.apply(fn, [thisArg].concat(args));\n}\n\n/**\n * A lookup table used for uuid generation. Populated on first usage.\n * @type {string[]}\n * @private\n */\nvar _lut;\n\n/**\n * uuid generates a fresh [UUID v4](https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_4_(random)).\n *\n * @returns {string}\n */\nexport function uuid() {\n  var d0, d1, d2, d3;\n\n  // try to use the newer, randomer crypto.getRandomValues if available\n  if (typeof window !== 'undefined' && window.crypto && window.crypto.getRandomValues && typeof Int32Array !== 'undefined') {\n    var d = new Int32Array(4);\n    window.crypto.getRandomValues(d);\n    d0 = d[0];\n    d1 = d[1];\n    d2 = d[2];\n    d3 = d[3];\n  } else {\n    // Generate a random float between 0-1, multiple by 4294967295 (0xffffffff)\n    // then round down via bitwise or (|0) so we are left with a random 32bit\n    // number. These 4 values are then bitshifted around to produce additional\n    // random values.\n    d0 = Math.random() * 0xffffffff | 0;\n    d1 = Math.random() * 0xffffffff | 0;\n    d2 = Math.random() * 0xffffffff | 0;\n    d3 = Math.random() * 0xffffffff | 0;\n  }\n\n  // Populate our lookup table (_lut) sequentially with hexidecimal strings\n  // starting from 00 all the way through to ff, covering the entire 256 hex\n  // range.\n  if (!_lut) {\n    _lut = [];\n    for (var i = 0; i < 256; i++) {\n      _lut[i] = (i < 16 ? '0' : '') + (i).toString(16);\n    }\n  }\n\n  // From our 4 random 32 bit values, we take the first 8 bits via bitwise AND\n  // against 255 (&0xff), then the next 8 bits via bitwise shift right (>>8) and\n  // repeat that 4 times through to get 4 random, 8 bit numbers, which are used\n  // to look up the sequentially generated hex characters in our lookup table.\n  // There are two interesting numbers here though:\n  //\n  // - the 15th character will always be a 4, because we bitwise AND against 15\n  //   rather than 255 and we bitwise OR against 64 (0x40), producing values in\n  //   the range of 64-79, which is the 16 hex values prefixed with a 4 (40\n  //   through to 4f)\n  //\n  // - the 20th character will always be one of 8, 9, a or b because we bitwise\n  //   AND against 63 and bitwise OR against 128, producing values in the range\n  //   of 128-191, which is the 64 hex values ranging from 80 through to bf\n  //\n  // This logic almost mirrors the specification of v4 RFC 4122 UUIDs, but omits\n  // the `clock_seq_hi_and_reserved` requirement\n  // https://tools.ietf.org/html/rfc4122.\n  //\n  // The result are identifiers of 36 characters, 34 of which are randomly\n  // assigned.\n  return _lut[d0 & 0xff] + _lut[d0 >> 8 & 0xff] + _lut[d0 >> 16 & 0xff] + _lut[d0 >> 24 & 0xff] + '-' +\n    _lut[d1 & 0xff] + _lut[d1 >> 8 & 0xff] + '-' + _lut[d1 >> 16 & 0x0f | 0x40] + _lut[d1 >> 24 & 0xff] + '-' +\n    _lut[d2 & 0x3f | 0x80] + _lut[d2 >> 8 & 0xff] + '-' + _lut[d2 >> 16 & 0xff] + _lut[d2 >> 24 & 0xff] +\n    _lut[d3 & 0xff] + _lut[d3 >> 8 & 0xff] + _lut[d3 >> 16 & 0xff] + _lut[d3 >> 24 & 0xff];\n}\n\n/**\n * promiseRetry calls factory up to retries+1 times until the returned promise\n * resolves.\n * @param {PromiseConstructor} P\n * @param {function(): Promise} factory\n * @param {number} [retries=2]\n * @param {number} [retryBackoffMs=150]\n */\nexport function promiseRetry(P, factory, retries, retryBackoffMs) {\n  if (!retries) retries = 2;\n  var n = 0;\n  return new P(function (resolve, reject) {\n    return attempt(0);\n    function attempt(delay) {\n      return new P(function (r) {\n        if (delay) setTimeout(r, delay); else r();\n      })\n      .then(function () {\n        return factory(function retry(err) {\n          throw { message: 'promise-retry', err: err };\n        }, ++n);\n      })\n      .then(\n        resolve,\n        function (e) {\n          if (e && e.message === 'promise-retry') {\n            if (n - 1 < retries) {\n              return attempt(delay + (retryBackoffMs || 150));\n            }\n            reject(e.err);\n            return;\n          }\n          reject(e);\n        }\n      );\n    }\n  });\n}\n","/* jshint undef: false */\n// Substituted by rollup's replace().\nexport default RAVELINJS_VERSION;\n","/**\n * CookieJar provides getters/setters for cookies.\n * @class\n * @param {object} cfg The cookiejar configuration.\n * @param {string} [cfg.domain] The domain on which to store cookies.\n */\nexport function CookieJar(cfg) {\n  this.domain = cfg.domain;\n}\n\n/**\n * get returns the value of the cookie of the given name, or undefined.\n * @param {string} name\n * @returns {string|undefined}\n */\nCookieJar.prototype.get = function(name) {\n  var cookies = document.cookie.split('; ');\n  for (var i = cookies.length-1; i >= 0; i--) {\n    var x = cookies[i].split(\"=\");\n    if (x[0] === name) {\n      return x[1];\n    }\n  }\n  return undefined;\n};\n\n/**\n * set a cookie on the given domain.\n * @param {object} c The cookie to set.\n * @param {string} c.name The name of the cookie.\n * @param {string} c.value The value to be stored in the cookie.\n * @param {string} [c.path=\"/\"] The path to store the cookie under.\n * @param {Date} [c.expires] The expiry time of the cookie. If not set, the cookie implicitly becomes a session cookie.\n */\nCookieJar.prototype.set = function(c) {\n  var cook = c.name + \"=\" + c.value + \";path=\" + (c.path || \"/\") +\n    (c.expires ? \";expires=\" + c.expires.toUTCString() : \"\") +\n    (this.domain ? \";domain=\" + this.domain : \"\");\n\n  if (typeof(this.samesite) === 'undefined') {\n    // Determine the correct value for SameSite.\n    if (hasWebKitSameSiteBug(window.navigator.userAgent)) {\n      this.samesite = '';\n    } else if (window.location.protocol == 'https:') {\n      this.samesite = ';SameSite=None;Secure';\n    } else {\n      this.samesite = ';SameSite=Lax';\n    }\n\n    // Try this samesite value.\n    document.cookie = cook + this.samesite;\n    if (this.get(c.name) == c.value) {\n      // We set the cookie successfully.\n      return;\n    }\n    // The cookie was discarded - avoid using samesite.\n    this.samesite = '';\n  }\n\n  document.cookie = cook + this.samesite;\n};\n\n/**\n * hasWebKitSameSiteBug indicates whether a given User-Agent treats\n * SameSite:None on cookies as if it were SameSite:Strict, which is very\n * different. Adapted from the procedure on\n * https://www.chromium.org/updates/same-site/incompatible-clients.\n *\n * @param ua string\n * @returns bool\n */\nfunction hasWebKitSameSiteBug(ua) {\n  if (/\\(iP.+; CPU .*OS 12[_\\d]*.*\\) AppleWebKit\\//.test(ua)) {\n    return true;\n  }\n  if (/\\(Macintosh;.*Mac OS X 10_14[_\\d]*.*\\) AppleWebKit\\//.test(ua)) {\n    if (/^Mozilla\\/[\\.\\d]+ \\(Macintosh;.*Mac OS X [_\\d]+\\) AppleWebKit\\/[\\.\\d]+ \\(KHTML, like Gecko\\)$/.test(ua)) {\n      return true;\n    }\n    if (/Version\\/.* Safari\\//.test(ua) && !/Chrom(e|ium)/.test(ua)) {\n      return true;\n    }\n  }\n  return false;\n}\n","/**\n * The core module of ravelinjs provides device-identification, and is used by\n * other modules to communicate with the Ravelin API.\n */\n\nimport version from './version';\nimport { CookieJar } from './cookies';\nimport { promiseRetry, bind, uuid } from './util';\n\n/**\n * @typedef {object} CoreConfig\n * @prop {string} [key] The API key (\"publishable_key_...\" or \"pk_...\") used to authenticate with the Ravelin API.\n * @prop {string} [api] A string of the format \"https://api.ravelin.net\" which forms the base of API requests.\n * @prop {string} [cookieDomain] The domain on which to set cookies. Ignored if invalid.\n * @prop {number} [syncMs=2000] The sync timeout frequency.\n * @prop {number} [sendRetryMs=150] The send retry backoff time.\n * @prop {PromiseConstructor} [Promise=Promise]\n *    The Promise implementation to use in ravelinjs's asychnrous functions.\n *    Defaults to the browser's own Promise if not set. Automatically set if you\n *    include the module for compatiblity with Internet Explorer.\n */\n\n/**\n * Core library instance. Provides helpers and device identification.\n * @class\n * @param {CoreConfig} cfg\n */\nexport function Core(cfg) {\n  this.Promise = cfg.Promise || window.Promise;\n\n  // API connectivity. TODO Move to an API client?\n  this.key = cfg.key;\n  this.api = cfg.api || apiFromKey(this.key);\n  this.api = this.api[0] + this.api.substr(1).replace(/^\\/+|\\/$/g, '');\n  this.sendRetryMs = cfg.sendRetryMs || 150;\n\n  // Device IDs.\n  this.cookies = new CookieJar({\n    domain: cfg.cookieDomain\n  });\n  this.sync();\n  if (cfg.init !== false) {\n    this.attach(cfg.syncMs || 2000);\n  }\n}\n\nvar deviceIdCookie = 'ravelinDeviceId';\n\n/**\n * id reads our device identity from the browser.\n * @fulfil {string} The device ID.\n * @returns {Promise<string>}\n */\nCore.prototype.id = function() {\n  if (this._id) {\n    // Keep the IDs from last time.\n    return this._id;\n  }\n\n  var c = this;\n  this._id = this.sniffError(function() {\n    return new c.Promise(function(resolve) {\n      resolve(c.cookies.get(deviceIdCookie) || 'rjs-' + uuid());\n    });\n  });\n  return this._id;\n};\n\nvar thirtheenMonthsFromNow = new Date(new Date().getTime() + 393 * 86400 * 1000);\n\n/**\n * sync writes our ID into the various places we try to keep hold of it.\n */\nCore.prototype.sync = function() {\n  var c = this.cookies;\n  this.id().then(function(id) {\n    c.set({\n      name: deviceIdCookie,\n      value: id,\n      expires: thirtheenMonthsFromNow\n    });\n  });\n};\n\n/**\n * attach to the browser to maintain our ids somewhere.\n * @param {number} syncMs How often we attempt to re-synchronise.\n */\nCore.prototype.attach = function(syncMs) {\n  setInterval(bind(this.sync, this), syncMs);\n};\n\n/**\n * sameOrigin returns whether a url is treated as the same origin of the page\n * loaded into the browser.\n * @param {string} url\n * @returns {boolean}\n */\nfunction sameOrigin(url) {\n  var matches = url.match('(https?)?://([^/]+)');\n  if (!matches) {\n    // Relative paths must be the same origin.\n    return true;\n  }\n  // Check the host:port matches.\n  if (matches[2] != window.location.host) {\n    return false;\n  }\n  // Check the scheme matches.\n  if (matches[1] != \"\" && matches[1] != window.location.protocol.replace(/:/, '')) {\n    return false;\n  }\n  return true;\n}\n\nvar defaultAPI = 'https://live.ravelin.click';\n\n/**\n * apiFromKey returns the likely API URL based on the key. Keys are arbitrary\n * strings, but we occassionally issue keys of the format\n * \"publishable_key_[test_][env_][key]\" to embed env.\n * @param {string} key\n * @returns {string} API URL\n */\nfunction apiFromKey(key) {\n  if (!key || key.substr(0, 16) != 'publishable_key_') {\n    return defaultAPI;\n  }\n\n  var words = key.substr(16).split('_');\n  if (words.length < 2) {\n    return defaultAPI;\n  }\n\n  var env = words[words.length - 2];\n  if (env == 'test' || env == 'live') {\n    return defaultAPI;\n  }\n\n  return 'https://' + encodeURIComponent(env) + '.ravelin.click';\n}\n\nvar _XDomainRequest = window.XDomainRequest;\n\n/**\n * @typedef {Object} CoreResponse\n * @property {number} status\n * @property {string} text\n * @property {number} attempt\n */\n\n/**\n * reportError sends an Error to Ravelin so that we can track what's happening.\n * @param {*} e\n * @returns {Promise<void>}\n */\nCore.prototype.reportError = function(e) {\n  var that = this;\n  if (this._id) {\n    return this.id().then(report);\n  }\n  return report();\n\n  function report(id) {\n    return that.send('POST', 'z/err', {\n      deviceId: id,\n      libVer: version,\n      type: e.name,\n      msg: e.message || e,\n      error: e.stack\n    }).then(function() {});\n  }\n};\n\n/**\n * sniffError invokes fn and reports any errors back to Ravelin. If the return\n * value of fn is a Promise-like object then any rejection is also reported.\n */\nCore.prototype.sniffError = function(fn) {\n  var c = this;\n  try {\n    var p = fn();\n    if (p && p.then) p.then(undefined, function(e) {\n      c.reportError(e);\n    });\n    return p;\n  } catch (e) {\n    c.reportError(e);\n    throw e;\n  }\n};\n\n/**\n * bind returns a function that invokes fn.apply(thisArg, ...args) and reports\n * any errors using sniffError.\n *\n * @param {Function} fn\n * @param {*} [thisArg]\n * @param {...*} [args]\n * @returns {Function}\n */\nCore.prototype.bind = function() {\n  var c = this;\n  var fn = bind.apply(null, Array.prototype.slice.call(arguments));\n  return function() {\n    var args = Array.prototype.slice.call(arguments);\n    return c.sniffError(function() {\n      return fn.apply(null, args);\n    });\n  };\n};\n\n/**\n * send makes a HTTP request and returns a Promise that resolves to the response\n * body or is rejected with any errors or non-2xx status codes.\n *\n * For backwards compatibility with IE8-9 whose XDomainRequest does not allow us\n * to add headers to cross-domain requests - and to avoid OPTIONS preflight\n * requests on browsers that do - we do not accept setting headers here. Instead\n * we put the key in the query string and expect the server to support whatever\n * headers the browser cares to add.\n *\n * @param {string} method\n * @param {string} path\n * @param {object} body\n * @returns {Promise<CoreResponse>}\n */\nCore.prototype.send = function(method, path, body) {\n  if (!this.key) {\n    throw new Error('ravelin/core: no key set for API requests');\n  }\n\n  // Build the URL to run.\n  var url = this.api + '/' + path.replace(/^\\/+/, '');\n  url += (url.indexOf('?') == -1 ? '?' : '&') + 'key=' + encodeURIComponent(this.key);\n  url = url.replace(/^\\/+/, '/');\n\n  var c = this;\n  return promiseRetry(c.Promise, function(retry, attempt) {\n    return (\n      // Make the request.\n      !sameOrigin(url) && _XDomainRequest) ?\n        c._sendXDR(method, url, stringify(body)) :\n        c._sendXHR(method, url, stringify(body)\n    ).then(function(r) {\n      r.attempt = attempt;\n\n      // Resolve/reject based on status.\n      if (r.status == 1223) {\n        r.status = 204; // IE0013 from http://www.enhanceie.com/ie/bugs.asp.\n      }\n      if (r.status >= 200 && r.status < 300) {\n        return r;\n      } else if (r.status == 400 && r.text == \"\") {\n        // Retry empty 400s injected by the BrowserStack tunnel.\n        retry(r);\n      } else if (r.status >= 500) {\n        // Retry errors.\n        retry(r);\n      }\n      return new c.Promise(function(resolve, reject) {\n        reject(r);\n      });\n    });\n  }, 2, this.sendRetryMs);\n};\n\n/**\n * _sendXHR wraps an XHR in a Promise.\n *\n * @param {string} method\n * @param {string} url\n * @param {object} body\n * @returns {Promise<CoreResponse>}\n */\nCore.prototype._sendXHR = function(method, url, body) {\n  return new this.Promise(function(resolve) {\n    var r = new XMLHttpRequest();\n    r.onreadystatechange = function() {\n      if (r.readyState == 4) {\n        resolve({status: r.status, text: r.responseText});\n      }\n    };\n\n    // Send the request.\n    r.open(method, url);\n    r.send(body);\n  });\n};\n\n/**\n * _sendXDR wraps an XHR in a Promise.\n *\n * @param {string} method\n * @param {string} url\n * @param {object} body\n * @returns {Promise<CoreResponse>}\n */\nCore.prototype._sendXDR = function(method, url, body) {\n  return new this.Promise(function(resolve, reject) {\n    var r = new _XDomainRequest();\n    r.onload = function() {\n      resolve({status: r.status || 200, text: r.responseText});\n    };\n    r.onerror = function() {\n      reject({status: r.status, text: r.responseText});\n    };\n    r.onprogress = function() {\n      // Needed to ensure onload fires.\n    };\n\n    r.open(method, url);\n    setTimeout(function () {\n      // Wrapped in a timeout to prevent an issue with the interface where some\n      // requests are lost if multiple XDomainRequests are being sent at the\n      // same time.\n      // https://developer.mozilla.org/en-US/docs/Web/API/XDomainRequest.\n      r.send(body);\n    }, 0);\n  });\n};\n\n/**\n * stringify is JSON.stringify with prototype safety.\n *\n * @param {object} obj\n * @returns {string}\n */\nfunction stringify(obj) {\n  if (Array.prototype.toJSON) {\n    // https://stackoverflow.com/questions/710586/json-stringify-array-bizarreness-with-prototype-js\n    var _array_tojson = Array.prototype.toJSON;\n    delete Array.prototype.toJSON;\n    var str = JSON.stringify(obj);\n    /* jshint -W121 */// We're restoring a native extension.\n    Array.prototype.toJSON = _array_tojson;\n    /* jshint +W121 */\n    return str;\n  }\n  return JSON.stringify(obj);\n}\n","import { uuid } from \"./util\";\nimport version from \"./version\";\n\n/**\n * @typedef {object} TrackConfig\n * @prop {boolean} [init=true] Whether to hook into the browser.\n */\n\n/**\n * @class\n * @param {Core} core\n * @param {TrackConfig} [cfg]\n */\nexport function Track(core, cfg) {\n  this.core = core;\n\n  /** @prop {string} windowId An identifier which lasts until the next page refresh. */\n  this.windowId = uuid();\n  /** @prop {string} sessionId An identifier which lasts until this website is closed. */\n  this.sessionId = core.cookies.get('ravelinSessionId');\n  if (!this.sessionId) {\n    this.sessionId = uuid();\n    core.cookies.set({\n      name: 'ravelinSessionId',\n      value: this.sessionId\n    });\n  }\n\n  this.dimensions = windowDimensions();\n\n  // Start tracking events.\n  if (cfg.init !== false) {\n    this._attachAll();\n  }\n}\n\n/**\n * _attachAll event listeners at the root of the document to return some key\n * events back to Ravelin.\n */\nTrack.prototype._attachAll = function() {\n  this.load();\n\n  this._listeners = [];\n\n  if (document.addEventListener) {\n    this._attach({\n      target: document,\n      addFn: 'addEventListener',\n      delFn: 'removeEventListener',\n      event: 'paste',\n      handler: this.core.bind(this.paste, this)\n    });\n  }\n  if (window.addEventListener) {\n    this._attach({\n      target: window,\n      addFn: 'addEventListener',\n      delFn: 'removeEventListener',\n      event: 'resize',\n      handler: debounce(250, this.core.bind(this.resize, this))\n    });\n  } else if (window.attachEvent) {\n    this._attach({\n      target: window,\n      addFn: 'attachEvent',\n      delFn: 'detachEvent',\n      event: 'onresize',\n      handler: debounce(250, this.core.bind(this.resize, this))\n    });\n  }\n};\n\n/**\n * _attach mirrors target.addEventListener(event, handler) where addFn would be\n * 'addEventListener' and delFn 'removeEventListener'.\n *\n * @param {object} e\n * @param {object} e.target\n * @param {string} e.addFn\n * @param {string} e.delFn\n * @param {string} e.event\n * @param {Function} e.handler\n */\nTrack.prototype._attach = function(e) {\n  this._listeners.push(e);\n  var fn = e.target[e.addFn];\n  if (fn.call) {\n    return fn.call(e.target, e.event, e.handler);\n  }\n  return fn(e.event, e.handler);\n};\n\n/**\n * _detach removes event listeners that we added.\n */\nTrack.prototype._detach = function() {\n  while (this._listeners.length > 0) {\n    var e = this._listeners.pop();\n    var fn = e.target[e.delFn];\n    if (fn.call) {\n      fn.call(e.target, e.event, e.handler);\n    } else {\n      fn(e.event, e.handler);\n    }\n  }\n};\n\n/**\n * send an event to Ravelin.\n * @param {string} name\n * @param {string} type\n * @param {object} [props]\n */\nTrack.prototype._send = function(name, type, props) {\n  var that = this;\n  return this.core.id().then(function(deviceId) {\n    return that.core.send('POST', '/z', {events: [{\n      eventType: type,\n      eventData: {\n        eventName: name,\n        properties: props\n      },\n\n      libVer: version,\n      eventMeta: {\n        trackingSource: 'browser',\n        url: window.location.href,\n        ravelinDeviceId: deviceId,\n        ravelinSessionId: that.sessionId,\n        ravelinWindowId: that.windowId,\n        pageTitle: document.title,\n        referrer: document.referrer || undefined,\n        clientEventTimeMilliseconds: Date.now ? Date.now() : +new Date()\n      }\n    }]});\n  });\n};\n\n/**\n * load event handler.\n */\nTrack.prototype.load = function() {\n  return this._send('track', 'PAGE_LOADED');\n};\n\n/**\n * resize event handler.\n */\nTrack.prototype.resize = function() {\n  // Swap out old sizes.\n  var old = this.dimensions;\n  var cur = windowDimensions();\n  this.dimensions = cur;\n\n  if (old.w === cur.w && old.h === cur.h) {\n    return;\n  }\n  this._send('resize', 'resize', {\n    resolutionOld: {\n      w: old.w,\n      h: old.h\n    },\n    resolutionNew: {\n      w: cur.w,\n      h: cur.h\n    }\n  });\n};\n\nfunction windowDimensions() {\n  return {\n    w: window.outerWidth || window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\n    h: window.outerHeight || window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight\n  };\n}\n\n/**\n * paste event handler.\n * @param {ClipboardEvent} e\n */\nTrack.prototype.paste = function(e) {\n  var sensitive = false;\n  var panField = false;\n\n  var props = {};\n\n  var t = e && e.target;\n  if (t) {\n    panField = t.hasAttribute('data-rvn-pan');\n\n    // Locate the field.\n    props.fieldName = t.name || t.id || undefined;\n    if (t.form) {\n      props.formName = attr(t.form, 'name') || attr(t.form, 'id');\n      props.formAction = attr(t.form, 'action');\n    }\n\n    // Look at the value, if safe.\n    sensitive = t.type == 'password' || treeHasAttr(t, 'data-rvn-sensitive');\n    if (!sensitive) {\n      if (t.value) {\n        props.fieldValue = obfsPasteData(t.value);\n      }\n      if (typeof t.selectionStart === 'number') {\n        props.selectionStart = t.selectionStart;\n        props.selectionEnd = t.selectionEnd;\n      }\n    }\n  }\n\n  // Describe the pasted content, if safe.\n  if (!sensitive && e && e.clipboardData) {\n    // Don't consider window.clipboardData: it prompts the user.\n    var pastedData = e.clipboardData.getData(\"Text\") || e.clipboardData.getData(\"text/plain\");\n    if (pastedData) {\n      if (panField) props.panCleaned = detectPAN(pastedData);\n      props.pastedValue = obfsPasteData(pastedData);\n    }\n  }\n  if (panField && typeof props.panCleaned === 'undefined') {\n    props.panCleaned = true;\n  }\n\n  return this._send('paste', 'paste', props);\n};\n\n\n\n/**\n * detectPAN returns whether it looks like str contains a card number.\n * @param {string} str\n */\nfunction detectPAN(str) {\n  // Disregard space or dash separators between characters.\n  str = str.replace(/[ -]+/g, '');\n\n  // Find each sequence of digits.\n  var nums = /\\d+/g;\n  var match;\n  while ((match = nums.exec(str)) !== null) {\n    if (match[0].length >= 12 && match[0].length <= 19) {\n      // If there was a sequence of digits between 12 or 19 characters long,\n      // consider it a PAN.\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * obfsPasteData replaces all unicode Letters with X and 0-9 with 0 so that the\n * structure of a paste value is obvious, without revealing the contents.\n * @param {*} str\n */\nfunction obfsPasteData(str) {\n  // This regexp covers all latin and international alphabetic and numberic\n  // characters. It is insufficient to replace /\\w/g or /\\d/g, but /\\p{L}/ug\n  // will match unicode Letters and /\\p{N}/ug unicode Numbers. Generated at:\n  // https://mothereff.in/regexpu#input=str.replace%28%2F%5Cp%7BN%7D%2Fgu%2C+%270%27%29.replace%28%2F%5Cp%7BL%7D%2Fgu%2C+%27X%27%29&dotAllFlag=1&unicodePropertyEscape=1\n  return str.replace(/(?:[0-9\\xB2\\xB3\\xB9\\xBC-\\xBE\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u09F4-\\u09F9\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0B72-\\u0B77\\u0BE6-\\u0BF2\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0CE6-\\u0CEF\\u0D58-\\u0D5E\\u0D66-\\u0D78\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F33\\u1040-\\u1049\\u1090-\\u1099\\u1369-\\u137C\\u16EE-\\u16F0\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19DA\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\u2070\\u2074-\\u2079\\u2080-\\u2089\\u2150-\\u2182\\u2185-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2CFD\\u3007\\u3021-\\u3029\\u3038-\\u303A\\u3192-\\u3195\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\uA620-\\uA629\\uA6E6-\\uA6EF\\uA830-\\uA835\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]|\\uD800[\\uDD07-\\uDD33\\uDD40-\\uDD78\\uDD8A\\uDD8B\\uDEE1-\\uDEFB\\uDF20-\\uDF23\\uDF41\\uDF4A\\uDFD1-\\uDFD5]|\\uD801[\\uDCA0-\\uDCA9]|\\uD802[\\uDC58-\\uDC5F\\uDC79-\\uDC7F\\uDCA7-\\uDCAF\\uDCFB-\\uDCFF\\uDD16-\\uDD1B\\uDDBC\\uDDBD\\uDDC0-\\uDDCF\\uDDD2-\\uDDFF\\uDE40-\\uDE48\\uDE7D\\uDE7E\\uDE9D-\\uDE9F\\uDEEB-\\uDEEF\\uDF58-\\uDF5F\\uDF78-\\uDF7F\\uDFA9-\\uDFAF]|\\uD803[\\uDCFA-\\uDCFF\\uDD30-\\uDD39\\uDE60-\\uDE7E\\uDF1D-\\uDF26\\uDF51-\\uDF54\\uDFC5-\\uDFCB]|\\uD804[\\uDC52-\\uDC6F\\uDCF0-\\uDCF9\\uDD36-\\uDD3F\\uDDD0-\\uDDD9\\uDDE1-\\uDDF4\\uDEF0-\\uDEF9]|\\uD805[\\uDC50-\\uDC59\\uDCD0-\\uDCD9\\uDE50-\\uDE59\\uDEC0-\\uDEC9\\uDF30-\\uDF3B]|\\uD806[\\uDCE0-\\uDCF2\\uDD50-\\uDD59]|\\uD807[\\uDC50-\\uDC6C\\uDD50-\\uDD59\\uDDA0-\\uDDA9\\uDFC0-\\uDFD4]|\\uD809[\\uDC00-\\uDC6E]|\\uD81A[\\uDE60-\\uDE69\\uDF50-\\uDF59\\uDF5B-\\uDF61]|\\uD81B[\\uDE80-\\uDE96]|\\uD834[\\uDEE0-\\uDEF3\\uDF60-\\uDF78]|\\uD835[\\uDFCE-\\uDFFF]|\\uD838[\\uDD40-\\uDD49\\uDEF0-\\uDEF9]|\\uD83A[\\uDCC7-\\uDCCF\\uDD50-\\uDD59]|\\uD83B[\\uDC71-\\uDCAB\\uDCAD-\\uDCAF\\uDCB1-\\uDCB4\\uDD01-\\uDD2D\\uDD2F-\\uDD3D]|\\uD83C[\\uDD00-\\uDD0C]|\\uD83E[\\uDFF0-\\uDFF9])/g, '0').replace(/(?:[A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08C7\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D04-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1878\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u31A0-\\u31BF\\u31F0-\\u31FF\\u3400-\\u4DBF\\u4E00-\\u9FFC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7BF\\uA7C2-\\uA7CA\\uA7F5-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB69\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF40\\uDF42-\\uDF49\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE35\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2\\uDD00-\\uDD23\\uDE80-\\uDEA9\\uDEB0\\uDEB1\\uDF00-\\uDF1C\\uDF27\\uDF30-\\uDF45\\uDFB0-\\uDFC4\\uDFE0-\\uDFF6]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD44\\uDD47\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC5F-\\uDC61\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDEB8\\uDF00-\\uDF1A]|\\uD806[\\uDC00-\\uDC2B\\uDCA0-\\uDCDF\\uDCFF-\\uDD06\\uDD09\\uDD0C-\\uDD13\\uDD15\\uDD16\\uDD18-\\uDD2F\\uDD3F\\uDD41\\uDDA0-\\uDDA7\\uDDAA-\\uDDD0\\uDDE1\\uDDE3\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE89\\uDE9D\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46\\uDD60-\\uDD65\\uDD67\\uDD68\\uDD6A-\\uDD89\\uDD98\\uDEE0-\\uDEF2\\uDFB0]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD822\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879\\uD880-\\uD883][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDE40-\\uDE7F\\uDF00-\\uDF4A\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1\\uDFE3]|\\uD821[\\uDC00-\\uDFF7]|\\uD823[\\uDC00-\\uDCD5\\uDD00-\\uDD08]|\\uD82C[\\uDC00-\\uDD1E\\uDD50-\\uDD52\\uDD64-\\uDD67\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD838[\\uDD00-\\uDD2C\\uDD37-\\uDD3D\\uDD4E\\uDEC0-\\uDEEB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43\\uDD4B]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDEDD\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uD884[\\uDC00-\\uDF4A])/g, 'X');\n}\n\n/**\n * attr returns e.getAttribute(name) but attr(e, \"name\") works even if e is a\n * <form><input name=name /></form>.\n * @param {HTMLElement} e\n * @param {string} name\n */\nfunction attr(e, name) {\n  return HTMLElement.prototype.getAttribute.call(e, name);\n}\n\n/**\n * treeHasAttr returns true if e or any of its parents have the named attribute.\n * @param {HTMLElement} e\n * @param {string} name\n * @returns {boolean}\n */\nfunction treeHasAttr(e, name) {\n  while (e && e.hasAttribute) {\n    if (e.hasAttribute(name)) {\n      return true;\n    }\n    e = e.parentNode;\n  }\n  return false;\n}\n\n/**\n * debounce returns a function that calls fn after delayMs of the function not\n * being called. Arguments from the latest invocation are used.\n *\n * @param {number} delayMs\n * @param {Function} fn\n */\nfunction debounce(delayMs, fn) {\n  var wait;\n  return function() {\n    var args = Array.prototype.slice.call(arguments);\n    if (wait) clearTimeout(wait);\n    wait = setTimeout(function() {\n      fn.apply(null, args);\n    }, delayMs);\n  };\n}\n","export var RSAKey = (function(){\n  // prng4.js - uses Arcfour as a PRNG\n  function Arcfour() {\n    this.i = 0;\n    this.j = 0;\n    this.S = new Array();\n  }\n\n  // Initialize arcfour context from key, an array of ints, each from [0..255]\n  function ARC4init(key) {\n    var i, j, t;\n    for(i = 0; i < 256; ++i)\n      this.S[i] = i;\n    j = 0;\n    for(i = 0; i < 256; ++i) {\n      j = (j + this.S[i] + key[i % key.length]) & 255;\n      t = this.S[i];\n      this.S[i] = this.S[j];\n      this.S[j] = t;\n    }\n    this.i = 0;\n    this.j = 0;\n  }\n\n  function ARC4next() {\n    var t;\n    this.i = (this.i + 1) & 255;\n    this.j = (this.j + this.S[this.i]) & 255;\n    t = this.S[this.i];\n    this.S[this.i] = this.S[this.j];\n    this.S[this.j] = t;\n    return this.S[(t + this.S[this.i]) & 255];\n  }\n\n  Arcfour.prototype.init = ARC4init;\n  Arcfour.prototype.next = ARC4next;\n\n  // Plug in your RNG constructor here\n  function prng_newstate() {\n    return new Arcfour();\n  }\n\n  // Pool size must be a multiple of 4 and greater than 32.\n  // An array of bytes the size of the pool will be passed to init()\n  var rng_psize = 256;\n\n  // Random number generator - requires a PRNG backend, e.g. prng4.js\n\n  // For best results, put code like\n  // <body onClick='rng_seed_time();' onKeyPress='rng_seed_time();'>\n  // in your main HTML document.\n\n  var rng_state;\n  var rng_pool;\n  var rng_pptr;\n\n  // Mix in a 32-bit integer into the pool\n  function rng_seed_int(x) {\n    rng_pool[rng_pptr++] ^= x & 255;\n    rng_pool[rng_pptr++] ^= (x >> 8) & 255;\n    rng_pool[rng_pptr++] ^= (x >> 16) & 255;\n    rng_pool[rng_pptr++] ^= (x >> 24) & 255;\n    if(rng_pptr >= rng_psize) rng_pptr -= rng_psize;\n  }\n\n  // Mix in the current time (w/milliseconds) into the pool\n  function rng_seed_time() {\n    rng_seed_int(new Date().getTime());\n  }\n\n  // Initialize the pool with junk if needed.\n  if(rng_pool == null) {\n    rng_pool = new Array();\n    rng_pptr = 0;\n    var t;\n    if(typeof window !== 'undefined' && window.crypto && window.crypto.getRandomValues) {\n      // Use webcrypto if available\n      var ua = new Uint8Array(32);\n      window.crypto.getRandomValues(ua);\n      for(t = 0; t < 32; ++t)\n        rng_pool[rng_pptr++] = ua[t];\n    }\n    if(typeof navigator !== 'undefined' && navigator.appName == \"Netscape\" && navigator.appVersion < \"5\" && window.crypto && window.crypto.random) {\n      // Extract entropy (256 bits) from NS4 RNG if available\n      var z = window.crypto.random(32);\n      for(t = 0; t < z.length; ++t)\n        rng_pool[rng_pptr++] = z.charCodeAt(t) & 255;\n    }\n    while(rng_pptr < rng_psize) {  // extract some randomness from Math.random()\n      t = Math.floor(65536 * Math.random());\n      rng_pool[rng_pptr++] = t >>> 8;\n      rng_pool[rng_pptr++] = t & 255;\n    }\n    rng_pptr = 0;\n    rng_seed_time();\n    //rng_seed_int(window.screenX);\n    //rng_seed_int(window.screenY);\n  }\n\n  function rng_get_byte() {\n    if(rng_state == null) {\n      rng_seed_time();\n      rng_state = prng_newstate();\n      rng_state.init(rng_pool);\n      for(rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr)\n        rng_pool[rng_pptr] = 0;\n      rng_pptr = 0;\n      //rng_pool = null;\n    }\n    // TODO: allow reseeding after first request\n    return rng_state.next();\n  }\n\n  function rng_get_bytes(ba) {\n    var i;\n    for(i = 0; i < ba.length; ++i) ba[i] = rng_get_byte();\n  }\n\n  function SecureRandom() {}\n\n  SecureRandom.prototype.nextBytes = rng_get_bytes;\n\n  // Copyright (c) 2005  Tom Wu\n  // All Rights Reserved.\n  // See \"LICENSE\" for details.\n\n  // Basic JavaScript BN library - subset useful for RSA encryption.\n\n  // Bits per digit\n  var dbits;\n\n  // JavaScript engine analysis\n  var canary = 0xdeadbeefcafe;\n  var j_lm = ((canary&0xffffff)==0xefcafe);\n\n  // (public) Constructor\n  function BigInteger(a,b,c) {\n    if(a != null)\n      if(\"number\" == typeof a) this.fromNumber(a,b,c);\n      else if(b == null && \"string\" != typeof a) this.fromString(a,256);\n      else this.fromString(a,b);\n  }\n\n  // return new, unset BigInteger\n  function nbi() { return new BigInteger(null); }\n\n  // am: Compute w_j += (x*this_i), propagate carries,\n  // c is initial carry, returns final carry.\n  // c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n  // We need to select the fastest one that works in this environment.\n\n  // am1: use a single mult and divide to get the high bits,\n  // max digit bits should be 26 because\n  // max internal value = 2*dvalue^2-2*dvalue (< 2^53)\n  function am1(i,x,w,j,c,n) {\n    while(--n >= 0) {\n      var v = x*this[i++]+w[j]+c;\n      c = Math.floor(v/0x4000000);\n      w[j++] = v&0x3ffffff;\n    }\n    return c;\n  }\n  // am2 avoids a big mult-and-extract completely.\n  // Max digit bits should be <= 30 because we do bitwise ops\n  // on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\n  function am2(i,x,w,j,c,n) {\n    var xl = x&0x7fff, xh = x>>15;\n    while(--n >= 0) {\n      var l = this[i]&0x7fff;\n      var h = this[i++]>>15;\n      var m = xh*l+h*xl;\n      l = xl*l+((m&0x7fff)<<15)+w[j]+(c&0x3fffffff);\n      c = (l>>>30)+(m>>>15)+xh*h+(c>>>30);\n      w[j++] = l&0x3fffffff;\n    }\n    return c;\n  }\n  // Alternately, set max digit bits to 28 since some\n  // browsers slow down when dealing with 32-bit numbers.\n  function am3(i,x,w,j,c,n) {\n    var xl = x&0x3fff, xh = x>>14;\n    while(--n >= 0) {\n      var l = this[i]&0x3fff;\n      var h = this[i++]>>14;\n      var m = xh*l+h*xl;\n      l = xl*l+((m&0x3fff)<<14)+w[j]+c;\n      c = (l>>28)+(m>>14)+xh*h;\n      w[j++] = l&0xfffffff;\n    }\n    return c;\n  }\n  if(j_lm && (typeof navigator !== 'undefined' && navigator.appName == \"Microsoft Internet Explorer\")) {\n    BigInteger.prototype.am = am2;\n    dbits = 30;\n  }\n  else if(j_lm && (typeof navigator !== 'undefined' && navigator.appName != \"Netscape\")) {\n    BigInteger.prototype.am = am1;\n    dbits = 26;\n  }\n  else { // Mozilla/Netscape seems to prefer am3\n    BigInteger.prototype.am = am3;\n    dbits = 28;\n  }\n\n  BigInteger.prototype.DB = dbits;\n  BigInteger.prototype.DM = ((1<<dbits)-1);\n  BigInteger.prototype.DV = (1<<dbits);\n\n  var BI_FP = 52;\n  BigInteger.prototype.FV = Math.pow(2,BI_FP);\n  BigInteger.prototype.F1 = BI_FP-dbits;\n  BigInteger.prototype.F2 = 2*dbits-BI_FP;\n\n  // Digit conversions\n  var BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\n  var BI_RC = new Array();\n  var rr,vv;\n  rr = \"0\".charCodeAt(0);\n  for(vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv;\n  rr = \"a\".charCodeAt(0);\n  for(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\n  rr = \"A\".charCodeAt(0);\n  for(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\n\n  function int2char(n) { return BI_RM.charAt(n); }\n  function intAt(s,i) {\n    var c = BI_RC[s.charCodeAt(i)];\n    return (c==null)?-1:c;\n  }\n\n  // (protected) copy this to r\n  function bnpCopyTo(r) {\n    for(var i = this.t-1; i >= 0; --i) r[i] = this[i];\n    r.t = this.t;\n    r.s = this.s;\n  }\n\n  // (protected) set from integer value x, -DV <= x < DV\n  function bnpFromInt(x) {\n    this.t = 1;\n    this.s = (x<0)?-1:0;\n    if(x > 0) this[0] = x;\n    else if(x < -1) this[0] = x+this.DV;\n    else this.t = 0;\n  }\n\n  // return bigint initialized to value\n  function nbv(i) { var r = nbi(); r.fromInt(i); return r; }\n\n  // (protected) set from string and radix\n  function bnpFromString(s,b) {\n    var k;\n    if(b == 16) k = 4;\n    else if(b == 8) k = 3;\n    else if(b == 256) k = 8; // byte array\n    else if(b == 2) k = 1;\n    else if(b == 32) k = 5;\n    else if(b == 4) k = 2;\n    else { this.fromRadix(s,b); return; }\n    this.t = 0;\n    this.s = 0;\n    var i = s.length, mi = false, sh = 0;\n    while(--i >= 0) {\n      var x = (k==8)?s[i]&0xff:intAt(s,i);\n      if(x < 0) {\n        if(s.charAt(i) == \"-\") mi = true;\n        continue;\n      }\n      mi = false;\n      if(sh == 0)\n        this[this.t++] = x;\n      else if(sh+k > this.DB) {\n        this[this.t-1] |= (x&((1<<(this.DB-sh))-1))<<sh;\n        this[this.t++] = (x>>(this.DB-sh));\n      }\n      else\n        this[this.t-1] |= x<<sh;\n      sh += k;\n      if(sh >= this.DB) sh -= this.DB;\n    }\n    if(k == 8 && (s[0]&0x80) != 0) {\n      this.s = -1;\n      if(sh > 0) this[this.t-1] |= ((1<<(this.DB-sh))-1)<<sh;\n    }\n    this.clamp();\n    if(mi) BigInteger.ZERO.subTo(this,this);\n  }\n\n  // (protected) clamp off excess high words\n  function bnpClamp() {\n    var c = this.s&this.DM;\n    while(this.t > 0 && this[this.t-1] == c) --this.t;\n  }\n\n  // (public) return string representation in given radix\n  function bnToString(b) {\n    if(this.s < 0) return \"-\"+this.negate().toString(b);\n    var k;\n    if(b == 16) k = 4;\n    else if(b == 8) k = 3;\n    else if(b == 2) k = 1;\n    else if(b == 32) k = 5;\n    else if(b == 4) k = 2;\n    else return this.toRadix(b);\n    var km = (1<<k)-1, d, m = false, r = \"\", i = this.t;\n    var p = this.DB-(i*this.DB)%k;\n    if(i-- > 0) {\n      if(p < this.DB && (d = this[i]>>p) > 0) { m = true; r = int2char(d); }\n      while(i >= 0) {\n        if(p < k) {\n          d = (this[i]&((1<<p)-1))<<(k-p);\n          d |= this[--i]>>(p+=this.DB-k);\n        }\n        else {\n          d = (this[i]>>(p-=k))&km;\n          if(p <= 0) { p += this.DB; --i; }\n        }\n        if(d > 0) m = true;\n        if(m) r += int2char(d);\n      }\n    }\n    return m?r:\"0\";\n  }\n\n  // (public) -this\n  function bnNegate() { var r = nbi(); BigInteger.ZERO.subTo(this,r); return r; }\n\n  // (public) |this|\n  function bnAbs() { return (this.s<0)?this.negate():this; }\n\n  // (public) return + if this > a, - if this < a, 0 if equal\n  function bnCompareTo(a) {\n    var r = this.s-a.s;\n    if(r != 0) return r;\n    var i = this.t;\n    r = i-a.t;\n    if(r != 0) return (this.s<0)?-r:r;\n    while(--i >= 0) if((r=this[i]-a[i]) != 0) return r;\n    return 0;\n  }\n\n  // returns bit length of the integer x\n  function nbits(x) {\n    var r = 1, t;\n    if((t=x>>>16) != 0) { x = t; r += 16; }\n    if((t=x>>8) != 0) { x = t; r += 8; }\n    if((t=x>>4) != 0) { x = t; r += 4; }\n    if((t=x>>2) != 0) { x = t; r += 2; }\n    if((t=x>>1) != 0) { x = t; r += 1; }\n    return r;\n  }\n\n  // (public) return the number of bits in \"this\"\n  function bnBitLength() {\n    if(this.t <= 0) return 0;\n    return this.DB*(this.t-1)+nbits(this[this.t-1]^(this.s&this.DM));\n  }\n\n  // (protected) r = this << n*DB\n  function bnpDLShiftTo(n,r) {\n    var i;\n    for(i = this.t-1; i >= 0; --i) r[i+n] = this[i];\n    for(i = n-1; i >= 0; --i) r[i] = 0;\n    r.t = this.t+n;\n    r.s = this.s;\n  }\n\n  // (protected) r = this >> n*DB\n  function bnpDRShiftTo(n,r) {\n    for(var i = n; i < this.t; ++i) r[i-n] = this[i];\n    r.t = Math.max(this.t-n,0);\n    r.s = this.s;\n  }\n\n  // (protected) r = this << n\n  function bnpLShiftTo(n,r) {\n    var bs = n%this.DB;\n    var cbs = this.DB-bs;\n    var bm = (1<<cbs)-1;\n    var ds = Math.floor(n/this.DB), c = (this.s<<bs)&this.DM, i;\n    for(i = this.t-1; i >= 0; --i) {\n      r[i+ds+1] = (this[i]>>cbs)|c;\n      c = (this[i]&bm)<<bs;\n    }\n    for(i = ds-1; i >= 0; --i) r[i] = 0;\n    r[ds] = c;\n    r.t = this.t+ds+1;\n    r.s = this.s;\n    r.clamp();\n  }\n\n  // (protected) r = this >> n\n  function bnpRShiftTo(n,r) {\n    r.s = this.s;\n    var ds = Math.floor(n/this.DB);\n    if(ds >= this.t) { r.t = 0; return; }\n    var bs = n%this.DB;\n    var cbs = this.DB-bs;\n    var bm = (1<<bs)-1;\n    r[0] = this[ds]>>bs;\n    for(var i = ds+1; i < this.t; ++i) {\n      r[i-ds-1] |= (this[i]&bm)<<cbs;\n      r[i-ds] = this[i]>>bs;\n    }\n    if(bs > 0) r[this.t-ds-1] |= (this.s&bm)<<cbs;\n    r.t = this.t-ds;\n    r.clamp();\n  }\n\n  // (protected) r = this - a\n  function bnpSubTo(a,r) {\n    var i = 0, c = 0, m = Math.min(a.t,this.t);\n    while(i < m) {\n      c += this[i]-a[i];\n      r[i++] = c&this.DM;\n      c >>= this.DB;\n    }\n    if(a.t < this.t) {\n      c -= a.s;\n      while(i < this.t) {\n        c += this[i];\n        r[i++] = c&this.DM;\n        c >>= this.DB;\n      }\n      c += this.s;\n    }\n    else {\n      c += this.s;\n      while(i < a.t) {\n        c -= a[i];\n        r[i++] = c&this.DM;\n        c >>= this.DB;\n      }\n      c -= a.s;\n    }\n    r.s = (c<0)?-1:0;\n    if(c < -1) r[i++] = this.DV+c;\n    else if(c > 0) r[i++] = c;\n    r.t = i;\n    r.clamp();\n  }\n\n  // (protected) r = this * a, r != this,a (HAC 14.12)\n  // \"this\" should be the larger one if appropriate.\n  function bnpMultiplyTo(a,r) {\n    var x = this.abs(), y = a.abs();\n    var i = x.t;\n    r.t = i+y.t;\n    while(--i >= 0) r[i] = 0;\n    for(i = 0; i < y.t; ++i) r[i+x.t] = x.am(0,y[i],r,i,0,x.t);\n    r.s = 0;\n    r.clamp();\n    if(this.s != a.s) BigInteger.ZERO.subTo(r,r);\n  }\n\n  // (protected) r = this^2, r != this (HAC 14.16)\n  function bnpSquareTo(r) {\n    var x = this.abs();\n    var i = r.t = 2*x.t;\n    while(--i >= 0) r[i] = 0;\n    for(i = 0; i < x.t-1; ++i) {\n      var c = x.am(i,x[i],r,2*i,0,1);\n      if((r[i+x.t]+=x.am(i+1,2*x[i],r,2*i+1,c,x.t-i-1)) >= x.DV) {\n        r[i+x.t] -= x.DV;\n        r[i+x.t+1] = 1;\n      }\n    }\n    if(r.t > 0) r[r.t-1] += x.am(i,x[i],r,2*i,0,1);\n    r.s = 0;\n    r.clamp();\n  }\n\n  // (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n  // r != q, this != m.  q or r may be null.\n  function bnpDivRemTo(m,q,r) {\n    var pm = m.abs();\n    if(pm.t <= 0) return;\n    var pt = this.abs();\n    if(pt.t < pm.t) {\n      if(q != null) q.fromInt(0);\n      if(r != null) this.copyTo(r);\n      return;\n    }\n    if(r == null) r = nbi();\n    var y = nbi(), ts = this.s, ms = m.s;\n    var nsh = this.DB-nbits(pm[pm.t-1]);  // normalize modulus\n    if(nsh > 0) { pm.lShiftTo(nsh,y); pt.lShiftTo(nsh,r); }\n    else { pm.copyTo(y); pt.copyTo(r); }\n    var ys = y.t;\n    var y0 = y[ys-1];\n    if(y0 == 0) return;\n    var yt = y0*(1<<this.F1)+((ys>1)?y[ys-2]>>this.F2:0);\n    var d1 = this.FV/yt, d2 = (1<<this.F1)/yt, e = 1<<this.F2;\n    var i = r.t, j = i-ys, t = (q==null)?nbi():q;\n    y.dlShiftTo(j,t);\n    if(r.compareTo(t) >= 0) {\n      r[r.t++] = 1;\n      r.subTo(t,r);\n    }\n    BigInteger.ONE.dlShiftTo(ys,t);\n    t.subTo(y,y);  // \"negative\" y so we can replace sub with am later\n    while(y.t < ys) y[y.t++] = 0;\n    while(--j >= 0) {\n      // Estimate quotient digit\n      var qd = (r[--i]==y0)?this.DM:Math.floor(r[i]*d1+(r[i-1]+e)*d2);\n      if((r[i]+=y.am(0,qd,r,j,0,ys)) < qd) {  // Try it out\n        y.dlShiftTo(j,t);\n        r.subTo(t,r);\n        while(r[i] < --qd) r.subTo(t,r);\n      }\n    }\n    if(q != null) {\n      r.drShiftTo(ys,q);\n      if(ts != ms) BigInteger.ZERO.subTo(q,q);\n    }\n    r.t = ys;\n    r.clamp();\n    if(nsh > 0) r.rShiftTo(nsh,r);  // Denormalize remainder\n    if(ts < 0) BigInteger.ZERO.subTo(r,r);\n  }\n\n  // (public) this mod a\n  function bnMod(a) {\n    var r = nbi();\n    this.abs().divRemTo(a,null,r);\n    if(this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r,r);\n    return r;\n  }\n\n  // Modular reduction using \"classic\" algorithm\n  function Classic(m) { this.m = m; }\n  function cConvert(x) {\n    if(x.s < 0 || x.compareTo(this.m) >= 0) return x.mod(this.m);\n    else return x;\n  }\n  function cRevert(x) { return x; }\n  function cReduce(x) { x.divRemTo(this.m,null,x); }\n  function cMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\n  function cSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n\n  Classic.prototype.convert = cConvert;\n  Classic.prototype.revert = cRevert;\n  Classic.prototype.reduce = cReduce;\n  Classic.prototype.mulTo = cMulTo;\n  Classic.prototype.sqrTo = cSqrTo;\n\n  // (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n  // justification:\n  //         xy == 1 (mod m)\n  //         xy =  1+km\n  //   xy(2-xy) = (1+km)(1-km)\n  // x[y(2-xy)] = 1-k^2m^2\n  // x[y(2-xy)] == 1 (mod m^2)\n  // if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n  // should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n  // JS multiply \"overflows\" differently from C/C++, so care is needed here.\n  function bnpInvDigit() {\n    if(this.t < 1) return 0;\n    var x = this[0];\n    if((x&1) == 0) return 0;\n    var y = x&3;    // y == 1/x mod 2^2\n    y = (y*(2-(x&0xf)*y))&0xf;  // y == 1/x mod 2^4\n    y = (y*(2-(x&0xff)*y))&0xff;  // y == 1/x mod 2^8\n    y = (y*(2-(((x&0xffff)*y)&0xffff)))&0xffff;  // y == 1/x mod 2^16\n    // last step - calculate inverse mod DV directly;\n    // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n    y = (y*(2-x*y%this.DV))%this.DV;    // y == 1/x mod 2^dbits\n    // we really want the negative inverse, and -DV < y < DV\n    return (y>0)?this.DV-y:-y;\n  }\n\n  // Montgomery reduction\n  function Montgomery(m) {\n    this.m = m;\n    this.mp = m.invDigit();\n    this.mpl = this.mp&0x7fff;\n    this.mph = this.mp>>15;\n    this.um = (1<<(m.DB-15))-1;\n    this.mt2 = 2*m.t;\n  }\n\n  // xR mod m\n  function montConvert(x) {\n    var r = nbi();\n    x.abs().dlShiftTo(this.m.t,r);\n    r.divRemTo(this.m,null,r);\n    if(x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r,r);\n    return r;\n  }\n\n  // x/R mod m\n  function montRevert(x) {\n    var r = nbi();\n    x.copyTo(r);\n    this.reduce(r);\n    return r;\n  }\n\n  // x = x/R mod m (HAC 14.32)\n  function montReduce(x) {\n    while(x.t <= this.mt2)  // pad x so am has enough room later\n      x[x.t++] = 0;\n    for(var i = 0; i < this.m.t; ++i) {\n      // faster way of calculating u0 = x[i]*mp mod DV\n      var j = x[i]&0x7fff;\n      var u0 = (j*this.mpl+(((j*this.mph+(x[i]>>15)*this.mpl)&this.um)<<15))&x.DM;\n      // use am to combine the multiply-shift-add into one call\n      j = i+this.m.t;\n      x[j] += this.m.am(0,u0,x,i,0,this.m.t);\n      // propagate carry\n      while(x[j] >= x.DV) { x[j] -= x.DV; x[++j]++; }\n    }\n    x.clamp();\n    x.drShiftTo(this.m.t,x);\n    if(x.compareTo(this.m) >= 0) x.subTo(this.m,x);\n  }\n\n  // r = \"x^2/R mod m\"; x != r\n  function montSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n\n  // r = \"xy/R mod m\"; x,y != r\n  function montMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\n\n  Montgomery.prototype.convert = montConvert;\n  Montgomery.prototype.revert = montRevert;\n  Montgomery.prototype.reduce = montReduce;\n  Montgomery.prototype.mulTo = montMulTo;\n  Montgomery.prototype.sqrTo = montSqrTo;\n\n  // (protected) true iff this is even\n  function bnpIsEven() { return ((this.t>0)?(this[0]&1):this.s) == 0; }\n\n  // (protected) this^e, e < 2^32, doing sqr and mul with \"r\" (HAC 14.79)\n  function bnpExp(e,z) {\n    if(e > 0xffffffff || e < 1) return BigInteger.ONE;\n    var r = nbi(), r2 = nbi(), g = z.convert(this), i = nbits(e)-1;\n    g.copyTo(r);\n    while(--i >= 0) {\n      z.sqrTo(r,r2);\n      if((e&(1<<i)) > 0) z.mulTo(r2,g,r);\n      else { var t = r; r = r2; r2 = t; }\n    }\n    return z.revert(r);\n  }\n\n  // (public) this^e % m, 0 <= e < 2^32\n  function bnModPowInt(e,m) {\n    var z;\n    if(e < 256 || m.isEven()) z = new Classic(m); else z = new Montgomery(m);\n    return this.exp(e,z);\n  }\n\n  // protected\n  BigInteger.prototype.copyTo = bnpCopyTo;\n  BigInteger.prototype.fromInt = bnpFromInt;\n  BigInteger.prototype.fromString = bnpFromString;\n  BigInteger.prototype.clamp = bnpClamp;\n  BigInteger.prototype.dlShiftTo = bnpDLShiftTo;\n  BigInteger.prototype.drShiftTo = bnpDRShiftTo;\n  BigInteger.prototype.lShiftTo = bnpLShiftTo;\n  BigInteger.prototype.rShiftTo = bnpRShiftTo;\n  BigInteger.prototype.subTo = bnpSubTo;\n  BigInteger.prototype.multiplyTo = bnpMultiplyTo;\n  BigInteger.prototype.squareTo = bnpSquareTo;\n  BigInteger.prototype.divRemTo = bnpDivRemTo;\n  BigInteger.prototype.invDigit = bnpInvDigit;\n  BigInteger.prototype.isEven = bnpIsEven;\n  BigInteger.prototype.exp = bnpExp;\n\n  // public\n  BigInteger.prototype.toString = bnToString;\n  BigInteger.prototype.negate = bnNegate;\n  BigInteger.prototype.abs = bnAbs;\n  BigInteger.prototype.compareTo = bnCompareTo;\n  BigInteger.prototype.bitLength = bnBitLength;\n  BigInteger.prototype.mod = bnMod;\n  BigInteger.prototype.modPowInt = bnModPowInt;\n\n  // \"constants\"\n  BigInteger.ZERO = nbv(0);\n  BigInteger.ONE = nbv(1);\n\n  // rsa.js\n  // Modified: alerts have been removed!\n\n  // Depends on jsbn.js and rng.js\n  // Version 1.1: support utf-8 encoding in pkcs1pad2\n\n  // convert a (hex) string to a bignum object\n  function parseBigInt(str,r) {\n    return new BigInteger(str,r);\n  }\n\n  // PKCS#1 (type 2, random) pad input string s to n bytes, and return a bigint\n  function pkcs1pad2(s,n) {\n    if(n < s.length + 11) { // TODO: fix for utf-8\n      return null;\n    }\n    var ba = new Array();\n    var i = s.length - 1;\n    while(i >= 0 && n > 0) {\n      var c = s.charCodeAt(i--);\n      if(c < 128) { // encode using utf-8\n        ba[--n] = c;\n      }\n      else if((c > 127) && (c < 2048)) {\n        ba[--n] = (c & 63) | 128;\n        ba[--n] = (c >> 6) | 192;\n      }\n      else {\n        ba[--n] = (c & 63) | 128;\n        ba[--n] = ((c >> 6) & 63) | 128;\n        ba[--n] = (c >> 12) | 224;\n      }\n    }\n    ba[--n] = 0;\n    var rng = new SecureRandom();\n    var x = new Array();\n    while(n > 2) { // random non-zero pad\n      x[0] = 0;\n      while(x[0] == 0) rng.nextBytes(x);\n      ba[--n] = x[0];\n    }\n    ba[--n] = 2;\n    ba[--n] = 0;\n    return new BigInteger(ba);\n  }\n\n  // \"empty\" RSA key constructor\n  function RSAKey() {\n    this.n = null;\n    this.e = 0;\n    this.d = null;\n    this.p = null;\n    this.q = null;\n    this.dmp1 = null;\n    this.dmq1 = null;\n    this.coeff = null;\n  }\n\n  // Set the public key fields N and e from hex strings\n  function RSASetPublic(N,E) {\n    if(N != null && E != null && N.length > 0 && E.length > 0) {\n      this.n = parseBigInt(N,16);\n      this.e = parseInt(E,16);\n    }\n  }\n\n  // Perform raw public operation on \"x\": return x^e (mod n)\n  function RSADoPublic(x) {\n    return x.modPowInt(this.e, this.n);\n  }\n\n  // Return the PKCS#1 RSA encryption of \"text\" as an even-length hex string\n  function RSAEncrypt(text) {\n    var m = pkcs1pad2(text,(this.n.bitLength()+7)>>3);\n    if(m == null) return null;\n    var c = this.doPublic(m);\n    if(c == null) return null;\n    var h = c.toString(16);\n    if((h.length & 1) == 0) return h; else return \"0\" + h;\n  }\n\n  // protected\n  RSAKey.prototype.doPublic = RSADoPublic;\n\n  // public\n  RSAKey.prototype.setPublic = RSASetPublic;\n  RSAKey.prototype.encrypt = RSAEncrypt;\n\n  return RSAKey;\n})();\n\n// sjcl.js\n//\n// https://github.com/bitwiseshiftleft/sjcl/blob/master/sjcl.js\n// ec1162f7ce686e489c471d1d13772ebfda35623b\nexport var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return\"CORRUPT: \"+this.message};this.message=a},invalid:function(a){this.toString=function(){return\"INVALID: \"+this.message};this.message=a},bug:function(a){this.toString=function(){return\"BUG: \"+this.message};this.message=a},notReady:function(a){this.toString=function(){return\"NOT READY: \"+this.message};this.message=a}}};\nsjcl.cipher.aes=function(a){this.s[0][0][0]||this.O();var b,c,d,e,f=this.s[0][4],g=this.s[1];b=a.length;var h=1;if(4!==b&&6!==b&&8!==b)throw new sjcl.exception.invalid(\"invalid aes key size\");this.b=[d=a.slice(0),e=[]];for(a=b;a<4*b+28;a++){c=d[a-1];if(0===a%b||8===b&&4===a%b)c=f[c>>>24]<<24^f[c>>16&255]<<16^f[c>>8&255]<<8^f[c&255],0===a%b&&(c=c<<8^c>>>24^h<<24,h=h<<1^283*(h>>7));d[a]=d[a-b]^c}for(b=0;a;b++,a--)c=d[b&3?a:a-4],e[b]=4>=a||4>b?c:g[0][f[c>>>24]]^g[1][f[c>>16&255]]^g[2][f[c>>8&255]]^g[3][f[c&\n255]]};\nsjcl.cipher.aes.prototype={encrypt:function(a){return t(this,a,0)},decrypt:function(a){return t(this,a,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var a=this.s[0],b=this.s[1],c=a[4],d=b[4],e,f,g,h=[],k=[],l,n,m,p;for(e=0;0x100>e;e++)k[(h[e]=e<<1^283*(e>>7))^e]=e;for(f=g=0;!c[f];f^=l||1,g=k[g]||1)for(m=g^g<<1^g<<2^g<<3^g<<4,m=m>>8^m&255^99,c[f]=m,d[m]=f,n=h[e=h[l=h[f]]],p=0x1010101*n^0x10001*e^0x101*l^0x1010100*f,n=0x101*h[m]^0x1010100*m,e=0;4>e;e++)a[e][f]=n=n<<24^n>>>8,b[e][m]=p=p<<24^p>>>8;for(e=\n0;5>e;e++)a[e]=a[e].slice(0),b[e]=b[e].slice(0)}};\nfunction t(a,b,c){if(4!==b.length)throw new sjcl.exception.invalid(\"invalid aes block size\");var d=a.b[c],e=b[0]^d[0],f=b[c?3:1]^d[1],g=b[2]^d[2];b=b[c?1:3]^d[3];var h,k,l,n=d.length/4-2,m,p=4,r=[0,0,0,0];h=a.s[c];a=h[0];var q=h[1],v=h[2],w=h[3],x=h[4];for(m=0;m<n;m++)h=a[e>>>24]^q[f>>16&255]^v[g>>8&255]^w[b&255]^d[p],k=a[f>>>24]^q[g>>16&255]^v[b>>8&255]^w[e&255]^d[p+1],l=a[g>>>24]^q[b>>16&255]^v[e>>8&255]^w[f&255]^d[p+2],b=a[b>>>24]^q[e>>16&255]^v[f>>8&255]^w[g&255]^d[p+3],p+=4,e=h,f=k,g=l;for(m=\n0;4>m;m++)r[c?3&-m:m]=x[e>>>24]<<24^x[f>>16&255]<<16^x[g>>8&255]<<8^x[b&255]^d[p++],h=e,e=f,f=g,g=b,b=h;return r}\nsjcl.bitArray={bitSlice:function(a,b,c){a=sjcl.bitArray.$(a.slice(b/32),32-(b&31)).slice(1);return void 0===c?a:sjcl.bitArray.clamp(a,c-b)},extract:function(a,b,c){var d=Math.floor(-b-c&31);return((b+c-1^b)&-32?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1},concat:function(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=sjcl.bitArray.getPartial(c);return 32===d?a.concat(b):sjcl.bitArray.$(b,d,c|0,a.slice(0,a.length-1))},bitLength:function(a){var b=a.length;return 0===\nb?0:32*(b-1)+sjcl.bitArray.getPartial(a[b-1])},clamp:function(a,b){if(32*a.length<b)return a;a=a.slice(0,Math.ceil(b/32));var c=a.length;b=b&31;0<c&&b&&(a[c-1]=sjcl.bitArray.partial(b,a[c-1]&2147483648>>b-1,1));return a},partial:function(a,b,c){return 32===a?b:(c?b|0:b<<32-a)+0x10000000000*a},getPartial:function(a){return Math.round(a/0x10000000000)||32},equal:function(a,b){if(sjcl.bitArray.bitLength(a)!==sjcl.bitArray.bitLength(b))return!1;var c=0,d;for(d=0;d<a.length;d++)c|=a[d]^b[d];return 0===\nc},$:function(a,b,c,d){var e;e=0;for(void 0===d&&(d=[]);32<=b;b-=32)d.push(c),c=0;if(0===b)return d.concat(a);for(e=0;e<a.length;e++)d.push(c|a[e]>>>b),c=a[e]<<32-b;e=a.length?a[a.length-1]:0;a=sjcl.bitArray.getPartial(e);d.push(sjcl.bitArray.partial(b+a&31,32<b+a?c:d.pop(),1));return d},i:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]},byteswapM:function(a){var b,c;for(b=0;b<a.length;++b)c=a[b],a[b]=c>>>24|c>>>8&0xff00|(c&0xff00)<<8|c<<24;return a}};\nsjcl.codec.utf8String={fromBits:function(a){var b=\"\",c=sjcl.bitArray.bitLength(a),d,e;for(d=0;d<c/8;d++)0===(d&3)&&(e=a[d/4]),b+=String.fromCharCode(e>>>8>>>8>>>8),e<<=8;return decodeURIComponent(escape(b))},toBits:function(a){a=unescape(encodeURIComponent(a));var b=[],c,d=0;for(c=0;c<a.length;c++)d=d<<8|a.charCodeAt(c),3===(c&3)&&(b.push(d),d=0);c&3&&b.push(sjcl.bitArray.partial(8*(c&3),d));return b}};\nsjcl.codec.hex={fromBits:function(a){var b=\"\",c;for(c=0;c<a.length;c++)b+=((a[c]|0)+0xf00000000000).toString(16).substr(4);return b.substr(0,sjcl.bitArray.bitLength(a)/4)},toBits:function(a){var b,c=[],d;a=a.replace(/\\s|0x/g,\"\");d=a.length;a=a+\"00000000\";for(b=0;b<a.length;b+=8)c.push(parseInt(a.substr(b,8),16)^0);return sjcl.bitArray.clamp(c,4*d)}};\nsjcl.codec.base32={B:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",X:\"0123456789ABCDEFGHIJKLMNOPQRSTUV\",BITS:32,BASE:5,REMAINING:27,fromBits:function(a,b,c){var d=sjcl.codec.base32.BASE,e=sjcl.codec.base32.REMAINING,f=\"\",g=0,h=sjcl.codec.base32.B,k=0,l=sjcl.bitArray.bitLength(a);c&&(h=sjcl.codec.base32.X);for(c=0;f.length*d<l;)f+=h.charAt((k^a[c]>>>g)>>>e),g<d?(k=a[c]<<d-g,g+=e,c++):(k<<=d,g-=d);for(;f.length&7&&!b;)f+=\"=\";return f},toBits:function(a,b){a=a.replace(/\\s|=/g,\"\").toUpperCase();var c=sjcl.codec.base32.BITS,\nd=sjcl.codec.base32.BASE,e=sjcl.codec.base32.REMAINING,f=[],g,h=0,k=sjcl.codec.base32.B,l=0,n,m=\"base32\";b&&(k=sjcl.codec.base32.X,m=\"base32hex\");for(g=0;g<a.length;g++){n=k.indexOf(a.charAt(g));if(0>n){if(!b)try{return sjcl.codec.base32hex.toBits(a)}catch(p){}throw new sjcl.exception.invalid(\"this isn't \"+m+\"!\");}h>e?(h-=e,f.push(l^n>>>h),l=n<<c-h):(h+=d,l^=n<<c-h)}h&56&&f.push(sjcl.bitArray.partial(h&56,l,1));return f}};\nsjcl.codec.base32hex={fromBits:function(a,b){return sjcl.codec.base32.fromBits(a,b,1)},toBits:function(a){return sjcl.codec.base32.toBits(a,1)}};\nsjcl.codec.base64={B:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",fromBits:function(a,b,c){var d=\"\",e=0,f=sjcl.codec.base64.B,g=0,h=sjcl.bitArray.bitLength(a);c&&(f=f.substr(0,62)+\"-_\");for(c=0;6*d.length<h;)d+=f.charAt((g^a[c]>>>e)>>>26),6>e?(g=a[c]<<6-e,e+=26,c++):(g<<=6,e-=6);for(;d.length&3&&!b;)d+=\"=\";return d},toBits:function(a,b){a=a.replace(/\\s|=/g,\"\");var c=[],d,e=0,f=sjcl.codec.base64.B,g=0,h;b&&(f=f.substr(0,62)+\"-_\");for(d=0;d<a.length;d++){h=f.indexOf(a.charAt(d));\nif(0>h)throw new sjcl.exception.invalid(\"this isn't base64!\");26<e?(e-=26,c.push(g^h>>>e),g=h<<32-e):(e+=6,g^=h<<32-e)}e&56&&c.push(sjcl.bitArray.partial(e&56,g,1));return c}};sjcl.codec.base64url={fromBits:function(a){return sjcl.codec.base64.fromBits(a,1,1)},toBits:function(a){return sjcl.codec.base64.toBits(a,1)}};sjcl.hash.sha256=function(a){this.b[0]||this.O();a?(this.F=a.F.slice(0),this.A=a.A.slice(0),this.l=a.l):this.reset()};sjcl.hash.sha256.hash=function(a){return(new sjcl.hash.sha256).update(a).finalize()};\nsjcl.hash.sha256.prototype={blockSize:512,reset:function(){this.F=this.Y.slice(0);this.A=[];this.l=0;return this},update:function(a){\"string\"===typeof a&&(a=sjcl.codec.utf8String.toBits(a));var b,c=this.A=sjcl.bitArray.concat(this.A,a);b=this.l;a=this.l=b+sjcl.bitArray.bitLength(a);if(0x1fffffffffffff<a)throw new sjcl.exception.invalid(\"Cannot hash more than 2^53 - 1 bits\");if(\"undefined\"!==typeof Uint32Array){var d=new Uint32Array(c),e=0;for(b=512+b-(512+b&0x1ff);b<=a;b+=512)u(this,d.subarray(16*e,\n16*(e+1))),e+=1;c.splice(0,16*e)}else for(b=512+b-(512+b&0x1ff);b<=a;b+=512)u(this,c.splice(0,16));return this},finalize:function(){var a,b=this.A,c=this.F,b=sjcl.bitArray.concat(b,[sjcl.bitArray.partial(1,1)]);for(a=b.length+2;a&15;a++)b.push(0);b.push(Math.floor(this.l/0x100000000));for(b.push(this.l|0);b.length;)u(this,b.splice(0,16));this.reset();return c},Y:[],b:[],O:function(){function a(a){return 0x100000000*(a-Math.floor(a))|0}for(var b=0,c=2,d,e;64>b;c++){e=!0;for(d=2;d*d<=c;d++)if(0===c%d){e=\n!1;break}e&&(8>b&&(this.Y[b]=a(Math.pow(c,.5))),this.b[b]=a(Math.pow(c,1/3)),b++)}}};\nfunction u(a,b){var c,d,e,f=a.F,g=a.b,h=f[0],k=f[1],l=f[2],n=f[3],m=f[4],p=f[5],r=f[6],q=f[7];for(c=0;64>c;c++)16>c?d=b[c]:(d=b[c+1&15],e=b[c+14&15],d=b[c&15]=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+b[c&15]+b[c+9&15]|0),d=d+q+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(r^m&(p^r))+g[c],q=r,r=p,p=m,m=n+d|0,n=l,l=k,k=h,h=d+(k&l^n&(k^l))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;f[0]=f[0]+h|0;f[1]=f[1]+k|0;f[2]=f[2]+l|0;f[3]=f[3]+n|0;f[4]=f[4]+m|0;f[5]=f[5]+p|0;f[6]=f[6]+r|0;f[7]=\nf[7]+q|0}\nsjcl.mode.ccm={name:\"ccm\",G:[],listenProgress:function(a){sjcl.mode.ccm.G.push(a)},unListenProgress:function(a){a=sjcl.mode.ccm.G.indexOf(a);-1<a&&sjcl.mode.ccm.G.splice(a,1)},fa:function(a){var b=sjcl.mode.ccm.G.slice(),c;for(c=0;c<b.length;c+=1)b[c](a)},encrypt:function(a,b,c,d,e){var f,g=b.slice(0),h=sjcl.bitArray,k=h.bitLength(c)/8,l=h.bitLength(g)/8;e=e||64;d=d||[];if(7>k)throw new sjcl.exception.invalid(\"ccm: iv must be at least 7 bytes\");for(f=2;4>f&&l>>>8*f;f++);f<15-k&&(f=15-k);c=h.clamp(c,\n8*(15-f));b=sjcl.mode.ccm.V(a,b,c,d,e,f);g=sjcl.mode.ccm.C(a,g,c,b,e,f);return h.concat(g.data,g.tag)},decrypt:function(a,b,c,d,e){e=e||64;d=d||[];var f=sjcl.bitArray,g=f.bitLength(c)/8,h=f.bitLength(b),k=f.clamp(b,h-e),l=f.bitSlice(b,h-e),h=(h-e)/8;if(7>g)throw new sjcl.exception.invalid(\"ccm: iv must be at least 7 bytes\");for(b=2;4>b&&h>>>8*b;b++);b<15-g&&(b=15-g);c=f.clamp(c,8*(15-b));k=sjcl.mode.ccm.C(a,k,c,l,e,b);a=sjcl.mode.ccm.V(a,k.data,c,d,e,b);if(!f.equal(k.tag,a))throw new sjcl.exception.corrupt(\"ccm: tag doesn't match\");\nreturn k.data},na:function(a,b,c,d,e,f){var g=[],h=sjcl.bitArray,k=h.i;d=[h.partial(8,(b.length?64:0)|d-2<<2|f-1)];d=h.concat(d,c);d[3]|=e;d=a.encrypt(d);if(b.length)for(c=h.bitLength(b)/8,65279>=c?g=[h.partial(16,c)]:0xffffffff>=c&&(g=h.concat([h.partial(16,65534)],[c])),g=h.concat(g,b),b=0;b<g.length;b+=4)d=a.encrypt(k(d,g.slice(b,b+4).concat([0,0,0])));return d},V:function(a,b,c,d,e,f){var g=sjcl.bitArray,h=g.i;e/=8;if(e%2||4>e||16<e)throw new sjcl.exception.invalid(\"ccm: invalid tag length\");\nif(0xffffffff<d.length||0xffffffff<b.length)throw new sjcl.exception.bug(\"ccm: can't deal with 4GiB or more data\");c=sjcl.mode.ccm.na(a,d,c,e,g.bitLength(b)/8,f);for(d=0;d<b.length;d+=4)c=a.encrypt(h(c,b.slice(d,d+4).concat([0,0,0])));return g.clamp(c,8*e)},C:function(a,b,c,d,e,f){var g,h=sjcl.bitArray;g=h.i;var k=b.length,l=h.bitLength(b),n=k/50,m=n;c=h.concat([h.partial(8,f-1)],c).concat([0,0,0]).slice(0,4);d=h.bitSlice(g(d,a.encrypt(c)),0,e);if(!k)return{tag:d,data:[]};for(g=0;g<k;g+=4)g>n&&(sjcl.mode.ccm.fa(g/\nk),n+=m),c[3]++,e=a.encrypt(c),b[g]^=e[0],b[g+1]^=e[1],b[g+2]^=e[2],b[g+3]^=e[3];return{tag:d,data:h.clamp(b,l)}}};\nsjcl.mode.ocb2={name:\"ocb2\",encrypt:function(a,b,c,d,e,f){if(128!==sjcl.bitArray.bitLength(c))throw new sjcl.exception.invalid(\"ocb iv must be 128 bits\");var g,h=sjcl.mode.ocb2.S,k=sjcl.bitArray,l=k.i,n=[0,0,0,0];c=h(a.encrypt(c));var m,p=[];d=d||[];e=e||64;for(g=0;g+4<b.length;g+=4)m=b.slice(g,g+4),n=l(n,m),p=p.concat(l(c,a.encrypt(l(c,m)))),c=h(c);m=b.slice(g);b=k.bitLength(m);g=a.encrypt(l(c,[0,0,0,b]));m=k.clamp(l(m.concat([0,0,0]),g),b);n=l(n,l(m.concat([0,0,0]),g));n=a.encrypt(l(n,l(c,h(c))));\nd.length&&(n=l(n,f?d:sjcl.mode.ocb2.pmac(a,d)));return p.concat(k.concat(m,k.clamp(n,e)))},decrypt:function(a,b,c,d,e,f){if(128!==sjcl.bitArray.bitLength(c))throw new sjcl.exception.invalid(\"ocb iv must be 128 bits\");e=e||64;var g=sjcl.mode.ocb2.S,h=sjcl.bitArray,k=h.i,l=[0,0,0,0],n=g(a.encrypt(c)),m,p,r=sjcl.bitArray.bitLength(b)-e,q=[];d=d||[];for(c=0;c+4<r/32;c+=4)m=k(n,a.decrypt(k(n,b.slice(c,c+4)))),l=k(l,m),q=q.concat(m),n=g(n);p=r-32*c;m=a.encrypt(k(n,[0,0,0,p]));m=k(m,h.clamp(b.slice(c),p).concat([0,\n0,0]));l=k(l,m);l=a.encrypt(k(l,k(n,g(n))));d.length&&(l=k(l,f?d:sjcl.mode.ocb2.pmac(a,d)));if(!h.equal(h.clamp(l,e),h.bitSlice(b,r)))throw new sjcl.exception.corrupt(\"ocb: tag doesn't match\");return q.concat(h.clamp(m,p))},pmac:function(a,b){var c,d=sjcl.mode.ocb2.S,e=sjcl.bitArray,f=e.i,g=[0,0,0,0],h=a.encrypt([0,0,0,0]),h=f(h,d(d(h)));for(c=0;c+4<b.length;c+=4)h=d(h),g=f(g,a.encrypt(f(h,b.slice(c,c+4))));c=b.slice(c);128>e.bitLength(c)&&(h=f(h,d(h)),c=e.concat(c,[-2147483648,0,0,0]));g=f(g,c);\nreturn a.encrypt(f(d(f(h,d(h))),g))},S:function(a){return[a[0]<<1^a[1]>>>31,a[1]<<1^a[2]>>>31,a[2]<<1^a[3]>>>31,a[3]<<1^135*(a[0]>>>31)]}};\nsjcl.mode.gcm={name:\"gcm\",encrypt:function(a,b,c,d,e){var f=b.slice(0);b=sjcl.bitArray;d=d||[];a=sjcl.mode.gcm.C(!0,a,f,d,c,e||128);return b.concat(a.data,a.tag)},decrypt:function(a,b,c,d,e){var f=b.slice(0),g=sjcl.bitArray,h=g.bitLength(f);e=e||128;d=d||[];e<=h?(b=g.bitSlice(f,h-e),f=g.bitSlice(f,0,h-e)):(b=f,f=[]);a=sjcl.mode.gcm.C(!1,a,f,d,c,e);if(!g.equal(a.tag,b))throw new sjcl.exception.corrupt(\"gcm: tag doesn't match\");return a.data},ka:function(a,b){var c,d,e,f,g,h=sjcl.bitArray.i;e=[0,0,\n0,0];f=b.slice(0);for(c=0;128>c;c++){(d=0!==(a[Math.floor(c/32)]&1<<31-c%32))&&(e=h(e,f));g=0!==(f[3]&1);for(d=3;0<d;d--)f[d]=f[d]>>>1|(f[d-1]&1)<<31;f[0]>>>=1;g&&(f[0]^=-0x1f000000)}return e},j:function(a,b,c){var d,e=c.length;b=b.slice(0);for(d=0;d<e;d+=4)b[0]^=0xffffffff&c[d],b[1]^=0xffffffff&c[d+1],b[2]^=0xffffffff&c[d+2],b[3]^=0xffffffff&c[d+3],b=sjcl.mode.gcm.ka(b,a);return b},C:function(a,b,c,d,e,f){var g,h,k,l,n,m,p,r,q=sjcl.bitArray;m=c.length;p=q.bitLength(c);r=q.bitLength(d);h=q.bitLength(e);\ng=b.encrypt([0,0,0,0]);96===h?(e=e.slice(0),e=q.concat(e,[1])):(e=sjcl.mode.gcm.j(g,[0,0,0,0],e),e=sjcl.mode.gcm.j(g,e,[0,0,Math.floor(h/0x100000000),h&0xffffffff]));h=sjcl.mode.gcm.j(g,[0,0,0,0],d);n=e.slice(0);d=h.slice(0);a||(d=sjcl.mode.gcm.j(g,h,c));for(l=0;l<m;l+=4)n[3]++,k=b.encrypt(n),c[l]^=k[0],c[l+1]^=k[1],c[l+2]^=k[2],c[l+3]^=k[3];c=q.clamp(c,p);a&&(d=sjcl.mode.gcm.j(g,h,c));a=[Math.floor(r/0x100000000),r&0xffffffff,Math.floor(p/0x100000000),p&0xffffffff];d=sjcl.mode.gcm.j(g,d,a);k=b.encrypt(e);\nd[0]^=k[0];d[1]^=k[1];d[2]^=k[2];d[3]^=k[3];return{tag:q.bitSlice(d,0,f),data:c}}};sjcl.misc.hmac=function(a,b){this.W=b=b||sjcl.hash.sha256;var c=[[],[]],d,e=b.prototype.blockSize/32;this.w=[new b,new b];a.length>e&&(a=b.hash(a));for(d=0;d<e;d++)c[0][d]=a[d]^909522486,c[1][d]=a[d]^1549556828;this.w[0].update(c[0]);this.w[1].update(c[1]);this.R=new b(this.w[0])};\nsjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(a){if(this.aa)throw new sjcl.exception.invalid(\"encrypt on already updated hmac called!\");this.update(a);return this.digest(a)};sjcl.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]);this.aa=!1};sjcl.misc.hmac.prototype.update=function(a){this.aa=!0;this.R.update(a)};sjcl.misc.hmac.prototype.digest=function(){var a=this.R.finalize(),a=(new this.W(this.w[1])).update(a).finalize();this.reset();return a};\nsjcl.misc.pbkdf2=function(a,b,c,d,e){c=c||1E4;if(0>d||0>c)throw new sjcl.exception.invalid(\"invalid params to pbkdf2\");\"string\"===typeof a&&(a=sjcl.codec.utf8String.toBits(a));\"string\"===typeof b&&(b=sjcl.codec.utf8String.toBits(b));e=e||sjcl.misc.hmac;a=new e(a);var f,g,h,k,l=[],n=sjcl.bitArray;for(k=1;32*l.length<(d||1);k++){e=f=a.encrypt(n.concat(b,[k]));for(g=1;g<c;g++)for(f=a.encrypt(f),h=0;h<f.length;h++)e[h]^=f[h];l=l.concat(e)}d&&(l=n.clamp(l,d));return l};\nsjcl.prng=function(a){this.c=[new sjcl.hash.sha256];this.m=[0];this.P=0;this.H={};this.N=0;this.U={};this.Z=this.f=this.o=this.ha=0;this.b=[0,0,0,0,0,0,0,0];this.h=[0,0,0,0];this.L=void 0;this.M=a;this.D=!1;this.K={progress:{},seeded:{}};this.u=this.ga=0;this.I=1;this.J=2;this.ca=0x10000;this.T=[0,48,64,96,128,192,0x100,384,512,768,1024];this.da=3E4;this.ba=80};\nsjcl.prng.prototype={randomWords:function(a,b){var c=[],d;d=this.isReady(b);var e;if(d===this.u)throw new sjcl.exception.notReady(\"generator isn't seeded\");if(d&this.J){d=!(d&this.I);e=[];var f=0,g;this.Z=e[0]=(new Date).valueOf()+this.da;for(g=0;16>g;g++)e.push(0x100000000*Math.random()|0);for(g=0;g<this.c.length&&(e=e.concat(this.c[g].finalize()),f+=this.m[g],this.m[g]=0,d||!(this.P&1<<g));g++);this.P>=1<<this.c.length&&(this.c.push(new sjcl.hash.sha256),this.m.push(0));this.f-=f;f>this.o&&(this.o=\nf);this.P++;this.b=sjcl.hash.sha256.hash(this.b.concat(e));this.L=new sjcl.cipher.aes(this.b);for(d=0;4>d&&(this.h[d]=this.h[d]+1|0,!this.h[d]);d++);}for(d=0;d<a;d+=4)0===(d+1)%this.ca&&y(this),e=z(this),c.push(e[0],e[1],e[2],e[3]);y(this);return c.slice(0,a)},setDefaultParanoia:function(a,b){if(0===a&&\"Setting paranoia=0 will ruin your security; use it only for testing\"!==b)throw new sjcl.exception.invalid(\"Setting paranoia=0 will ruin your security; use it only for testing\");this.M=a},addEntropy:function(a,\nb,c){c=c||\"user\";var d,e,f=(new Date).valueOf(),g=this.H[c],h=this.isReady(),k=0;d=this.U[c];void 0===d&&(d=this.U[c]=this.ha++);void 0===g&&(g=this.H[c]=0);this.H[c]=(this.H[c]+1)%this.c.length;switch(typeof a){case \"number\":void 0===b&&(b=1);this.c[g].update([d,this.N++,1,b,f,1,a|0]);break;case \"object\":c=Object.prototype.toString.call(a);if(\"[object Uint32Array]\"===c){e=[];for(c=0;c<a.length;c++)e.push(a[c]);a=e}else for(\"[object Array]\"!==c&&(k=1),c=0;c<a.length&&!k;c++)\"number\"!==typeof a[c]&&\n(k=1);if(!k){if(void 0===b)for(c=b=0;c<a.length;c++)for(e=a[c];0<e;)b++,e=e>>>1;this.c[g].update([d,this.N++,2,b,f,a.length].concat(a))}break;case \"string\":void 0===b&&(b=a.length);this.c[g].update([d,this.N++,3,b,f,a.length]);this.c[g].update(a);break;default:k=1}if(k)throw new sjcl.exception.bug(\"random: addEntropy only supports number, array of numbers or string\");this.m[g]+=b;this.f+=b;h===this.u&&(this.isReady()!==this.u&&A(\"seeded\",Math.max(this.o,this.f)),A(\"progress\",this.getProgress()))},\nisReady:function(a){a=this.T[void 0!==a?a:this.M];return this.o&&this.o>=a?this.m[0]>this.ba&&(new Date).valueOf()>this.Z?this.J|this.I:this.I:this.f>=a?this.J|this.u:this.u},getProgress:function(a){a=this.T[a?a:this.M];return this.o>=a?1:this.f>a?1:this.f/a},startCollectors:function(){if(!this.D){this.a={loadTimeCollector:B(this,this.ma),mouseCollector:B(this,this.oa),keyboardCollector:B(this,this.la),accelerometerCollector:B(this,this.ea),touchCollector:B(this,this.qa)};if(window.addEventListener)window.addEventListener(\"load\",\nthis.a.loadTimeCollector,!1),window.addEventListener(\"mousemove\",this.a.mouseCollector,!1),window.addEventListener(\"keypress\",this.a.keyboardCollector,!1),window.addEventListener(\"devicemotion\",this.a.accelerometerCollector,!1),window.addEventListener(\"touchmove\",this.a.touchCollector,!1);else if(document.attachEvent)document.attachEvent(\"onload\",this.a.loadTimeCollector),document.attachEvent(\"onmousemove\",this.a.mouseCollector),document.attachEvent(\"keypress\",this.a.keyboardCollector);else throw new sjcl.exception.bug(\"can't attach event\");\nthis.D=!0}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener(\"load\",this.a.loadTimeCollector,!1),window.removeEventListener(\"mousemove\",this.a.mouseCollector,!1),window.removeEventListener(\"keypress\",this.a.keyboardCollector,!1),window.removeEventListener(\"devicemotion\",this.a.accelerometerCollector,!1),window.removeEventListener(\"touchmove\",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent(\"onload\",this.a.loadTimeCollector),document.detachEvent(\"onmousemove\",\nthis.a.mouseCollector),document.detachEvent(\"keypress\",this.a.keyboardCollector)),this.D=!1)},addEventListener:function(a,b){this.K[a][this.ga++]=b},removeEventListener:function(a,b){var c,d,e=this.K[a],f=[];for(d in e)e.hasOwnProperty(d)&&e[d]===b&&f.push(d);for(c=0;c<f.length;c++)d=f[c],delete e[d]},la:function(){C(this,1)},oa:function(a){var b,c;try{b=a.x||a.clientX||a.offsetX||0,c=a.y||a.clientY||a.offsetY||0}catch(d){c=b=0}0!=b&&0!=c&&this.addEntropy([b,c],2,\"mouse\");C(this,0)},qa:function(a){a=\na.touches[0]||a.changedTouches[0];this.addEntropy([a.pageX||a.clientX,a.pageY||a.clientY],1,\"touch\");C(this,0)},ma:function(){C(this,2)},ea:function(a){a=a.accelerationIncludingGravity.x||a.accelerationIncludingGravity.y||a.accelerationIncludingGravity.z;if(window.orientation){var b=window.orientation;\"number\"===typeof b&&this.addEntropy(b,1,\"accelerometer\")}a&&this.addEntropy(a,2,\"accelerometer\");C(this,0)}};\nfunction A(a,b){var c,d=sjcl.random.K[a],e=[];for(c in d)d.hasOwnProperty(c)&&e.push(d[c]);for(c=0;c<e.length;c++)e[c](b)}function C(a,b){\"undefined\"!==typeof window&&window.performance&&\"function\"===typeof window.performance.now?a.addEntropy(window.performance.now(),b,\"loadtime\"):a.addEntropy((new Date).valueOf(),b,\"loadtime\")}function y(a){a.b=z(a).concat(z(a));a.L=new sjcl.cipher.aes(a.b)}function z(a){for(var b=0;4>b&&(a.h[b]=a.h[b]+1|0,!a.h[b]);b++);return a.L.encrypt(a.h)}\nfunction B(a,b){return function(){b.apply(a,arguments)}}sjcl.random=new sjcl.prng(6);\na:try{var D,E,F,G;if(G=\"undefined\"!==typeof module&&module.exports){var H;try{H=__non_webpack_require__(\"crypto\")}catch(a){H=null}G=E=H}if(G&&E.randomBytes)D=E.randomBytes(128),D=new Uint32Array((new Uint8Array(D)).buffer),sjcl.random.addEntropy(D,1024,\"crypto['randomBytes']\");else if(\"undefined\"!==typeof window&&\"undefined\"!==typeof Uint32Array){F=new Uint32Array(32);if(window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(F);else if(window.msCrypto&&window.msCrypto.getRandomValues)window.msCrypto.getRandomValues(F);\nelse break a;sjcl.random.addEntropy(F,1024,\"crypto['getRandomValues']\")}}catch(a){\"undefined\"!==typeof window&&window.console&&(console.log(\"There was an error collecting entropy from the browser:\"),console.log(a))}\nsjcl.json={defaults:{v:1,iter:1E4,ks:128,ts:64,mode:\"ccm\",adata:\"\",cipher:\"aes\"},ja:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl.json,f=e.g({iv:sjcl.random.randomWords(4,0)},e.defaults),g;e.g(f,c);c=f.adata;\"string\"===typeof f.salt&&(f.salt=sjcl.codec.base64.toBits(f.salt));\"string\"===typeof f.iv&&(f.iv=sjcl.codec.base64.toBits(f.iv));if(!sjcl.mode[f.mode]||!sjcl.cipher[f.cipher]||\"string\"===typeof a&&100>=f.iter||64!==f.ts&&96!==f.ts&&128!==f.ts||128!==f.ks&&192!==f.ks&&0x100!==f.ks||2>f.iv.length||\n4<f.iv.length)throw new sjcl.exception.invalid(\"json encrypt: invalid parameters\");\"string\"===typeof a?(g=sjcl.misc.cachedPbkdf2(a,f),a=g.key.slice(0,f.ks/32),f.salt=g.salt):sjcl.ecc&&a instanceof sjcl.ecc.elGamal.publicKey&&(g=a.kem(),f.kemtag=g.tag,a=g.key.slice(0,f.ks/32));\"string\"===typeof b&&(b=sjcl.codec.utf8String.toBits(b));\"string\"===typeof c&&(f.adata=c=sjcl.codec.utf8String.toBits(c));g=new sjcl.cipher[f.cipher](a);e.g(d,f);d.key=a;f.ct=\"ccm\"===f.mode&&sjcl.arrayBuffer&&sjcl.arrayBuffer.ccm&&\nb instanceof ArrayBuffer?sjcl.arrayBuffer.ccm.encrypt(g,b,f.iv,c,f.ts):sjcl.mode[f.mode].encrypt(g,b,f.iv,c,f.ts);return f},encrypt:function(a,b,c,d){var e=sjcl.json,f=e.ja.apply(e,arguments);return e.encode(f)},ia:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl.json;b=e.g(e.g(e.g({},e.defaults),b),c,!0);var f,g;f=b.adata;\"string\"===typeof b.salt&&(b.salt=sjcl.codec.base64.toBits(b.salt));\"string\"===typeof b.iv&&(b.iv=sjcl.codec.base64.toBits(b.iv));if(!sjcl.mode[b.mode]||!sjcl.cipher[b.cipher]||\"string\"===\ntypeof a&&100>=b.iter||64!==b.ts&&96!==b.ts&&128!==b.ts||128!==b.ks&&192!==b.ks&&0x100!==b.ks||!b.iv||2>b.iv.length||4<b.iv.length)throw new sjcl.exception.invalid(\"json decrypt: invalid parameters\");\"string\"===typeof a?(g=sjcl.misc.cachedPbkdf2(a,b),a=g.key.slice(0,b.ks/32),b.salt=g.salt):sjcl.ecc&&a instanceof sjcl.ecc.elGamal.secretKey&&(a=a.unkem(sjcl.codec.base64.toBits(b.kemtag)).slice(0,b.ks/32));\"string\"===typeof f&&(f=sjcl.codec.utf8String.toBits(f));g=new sjcl.cipher[b.cipher](a);f=\"ccm\"===\nb.mode&&sjcl.arrayBuffer&&sjcl.arrayBuffer.ccm&&b.ct instanceof ArrayBuffer?sjcl.arrayBuffer.ccm.decrypt(g,b.ct,b.iv,b.tag,f,b.ts):sjcl.mode[b.mode].decrypt(g,b.ct,b.iv,f,b.ts);e.g(d,b);d.key=a;return 1===c.raw?f:sjcl.codec.utf8String.fromBits(f)},decrypt:function(a,b,c,d){var e=sjcl.json;return e.ia(a,e.decode(b),c,d)},encode:function(a){var b,c=\"{\",d=\"\";for(b in a)if(a.hasOwnProperty(b)){if(!b.match(/^[a-z0-9]+$/i))throw new sjcl.exception.invalid(\"json encode: invalid property name\");c+=d+'\"'+\nb+'\":';d=\",\";switch(typeof a[b]){case \"number\":case \"boolean\":c+=a[b];break;case \"string\":c+='\"'+escape(a[b])+'\"';break;case \"object\":c+='\"'+sjcl.codec.base64.fromBits(a[b],0)+'\"';break;default:throw new sjcl.exception.bug(\"json encode: unsupported type\");}}return c+\"}\"},decode:function(a){a=a.replace(/\\s/g,\"\");if(!a.match(/^\\{.*\\}$/))throw new sjcl.exception.invalid(\"json decode: this isn't json!\");a=a.replace(/^\\{|\\}$/g,\"\").split(/,/);var b={},c,d;for(c=0;c<a.length;c++){if(!(d=a[c].match(/^\\s*(?:([\"']?)([a-z][a-z0-9]*)\\1)\\s*:\\s*(?:(-?\\d+)|\"([a-z0-9+\\/%*_.@=\\-]*)\"|(true|false))$/i)))throw new sjcl.exception.invalid(\"json decode: this isn't json!\");\nnull!=d[3]?b[d[2]]=parseInt(d[3],10):null!=d[4]?b[d[2]]=d[2].match(/^(ct|adata|salt|iv)$/)?sjcl.codec.base64.toBits(d[4]):unescape(d[4]):null!=d[5]&&(b[d[2]]=\"true\"===d[5])}return b},g:function(a,b,c){void 0===a&&(a={});if(void 0===b)return a;for(var d in b)if(b.hasOwnProperty(d)){if(c&&void 0!==a[d]&&a[d]!==b[d])throw new sjcl.exception.invalid(\"required parameter overridden\");a[d]=b[d]}return a},sa:function(a,b){var c={},d;for(d in a)a.hasOwnProperty(d)&&a[d]!==b[d]&&(c[d]=a[d]);return c},ra:function(a,\nb){var c={},d;for(d=0;d<b.length;d++)void 0!==a[b[d]]&&(c[b[d]]=a[b[d]]);return c}};sjcl.encrypt=sjcl.json.encrypt;sjcl.decrypt=sjcl.json.decrypt;sjcl.misc.pa={};sjcl.misc.cachedPbkdf2=function(a,b){var c=sjcl.misc.pa,d;b=b||{};d=b.iter||1E3;c=c[a]=c[a]||{};d=c[d]=c[d]||{firstSalt:b.salt&&b.salt.length?b.salt.slice(0):sjcl.random.randomWords(2,0)};c=void 0===b.salt?d.firstSalt:b.salt;d[c]=d[c]||sjcl.misc.pbkdf2(a,c,b.iter);return{key:d[c].slice(0),salt:c.slice(0)}};\n","/**\n * The encrypt module provides card-encryption methods.\n */\n\nimport {sjcl, RSAKey} from './encryption-vendored';\nimport version from './version';\n\n/**\n * @typedef {object} Card\n * @prop {string} rsaKey The RSA key to be used for encryption of the card.\n * @prop {string} pan The full card number.\n * @prop {number|string} month The expiration month of the card.\n * @prop {number|string} year The expiration year of the card.\n * @prop {string} [nameOnCard] The account holder name.\n */\n\n/**\n * @typedef {object} PaymentMethodCipher\n * @prop {string} methodType\n * @prop {string} cardCiphertext\n * @prop {string} aesKeyCiphertext\n * @prop {string} algorithm\n * @prop {string} ravelinSDKVersion\n * @prop {number} keyIndex\n * @prop {string} keySignature\n */\n\n /**\n  * @typedef {object} EncryptConfig\n  * @prop {string} [rsaKey]\n  */\n\n /**\n  * @constructor\n  * @param {Core} core\n  * @param {EncryptConfig} cfg\n  */\nexport function Encrypt(core, cfg) {\n  this.core = core;\n  this.card = core.bind(this.card, this);\n  if (cfg.rsaKey) this.key = parseKey(cfg.rsaKey);\n  sjcl.random.startCollectors();\n}\n\n/**\n * Encrypt a card into an encrypted payment method that can be sent via your\n * server to Ravelin.\n *\n * @param {Card} card\n * @return {PaymentMethodCipher}\n */\nEncrypt.prototype.card = function(card) {\n  // Check that we've got an argument.\n  if (!card) {\n    throw new Error('ravelin/encrypt: card is required');\n  }\n\n  // Check there are no unexpected properties on card.\n  for (var prop in card) {\n    if (!card.hasOwnProperty(prop)) continue;\n    switch (prop) {\n      case 'rsaKey':\n      case 'pan':\n      case 'year':\n      case 'month':\n      case 'nameOnCard':\n        continue;\n      default:\n        throw new Error('ravelin/encrypt: unrecognised property ' + prop);\n    }\n  }\n\n  // Parse the key.\n  var key = this.key;\n  if (card.rsaKey) {\n    if (typeof card.rsaKey !== 'string') {\n      throw new Error('ravelin/encrypt: card.rsaKey should be a string');\n    }\n    key = parseKey(card.rsaKey);\n  }\n  if (!key) {\n    throw new Error('ravelin/encrypt: no rsaKey provided');\n  }\n\n  // Validate the PAN.\n  if (card.pan) {\n    card.pan = card.pan.toString().replace(/[^0-9]/g, '');\n  }\n  if (!card.pan || card.pan.length < 12) {\n    throw new Error('ravelin/encrypt: card.pan should have at least 12 digits');\n  }\n\n  // Validate month is an integer or string of an integer in the range 1-12.\n  if (typeof card.month == 'string') {\n    card.month = parseInt(card.month, 10);\n  }\n  if (!(card.month > 0 && card.month < 13)) {\n    throw new Error('ravelin/encrypt: card.month should be in the range 1-12');\n  }\n\n  // Validate year is an integer or string of an integer in the range 1-99 or\n  // 2000+. If in the range 1-99 we convert it to 2001-2099.\n  if (typeof card.year === 'string') {\n    card.year = parseInt(card.year, 10);\n  }\n  if (card.year > 0 && card.year < 100) {\n    card.year += 2000;\n  }\n  if (!card.year || card.year <= 2000) {\n    throw new Error('ravelin/encrypt: card.year should be in the 21st century');\n  }\n\n  // AES encrypt the card details, using a uniquely generated session key and\n  // IV. The GCM auth tag is appended to the ciphertext. This key and IV are\n  // returned from this call as well as the card detail ciphertext, all as\n  // base64.\n  var aesResult;\n  try {\n    aesResult = aesEncrypt(JSON.stringify({\n      pan: card.pan,\n      year: card.year.toString(),\n      month: card.month.toString(),\n      nameOnCard: card.nameOnCard\n    }));\n  } catch (e) {\n    if (e.toString().indexOf(\"generator\") !== -1) {\n      throw new Error('ravelin/encrypt: generator not ready');\n    }\n  }\n\n  // RSA encrypt the key and IV from the previous step, as a single,\n  // pipe-delimited string.\n  var rsaResultB64 = rsaEncrypt(key.key, aesResult.aesKeyB64, aesResult.ivB64);\n\n  // This payload identically matches the structure we expect to be sent to the\n  // Ravelin API.\n  return {\n    methodType: 'paymentMethodCipher',\n    cardCiphertext: aesResult.ciphertextB64,\n    aesKeyCiphertext: rsaResultB64,\n    algorithm: 'RSA_WITH_AES_256_GCM',\n    ravelinSDKVersion: version,\n    keyIndex: key.index,\n    keySignature: key.sig\n  };\n};\n\n/**\n * @typedef {object} Key\n * @prop {object} key TODO: Change type to RSAKey?\n * @prop {number} index\n * @prop {string} sig\n */\n/**\n * parseKey extracts the components of a key string ready for use.\n *\n * A client's public RSA key has a structure of either 'exponent|modulus' or\n * 'keyIndex|exponent|modulus'. The index of a key is roughly equivalent to the\n * version, with each new RSA key pair we generate for a client having an index\n * of n+1. A single client can have multiple active RSA key pairs, and we can\n * decomission a key pair as required while allowing all other active versions\n * to operate.\n *\n * The first key we issue a client is of index 0. For keys of index 0, we omit\n * this value from the key. e.g '10001|AA1C1C1EC...`\n *\n * For all keys beyond the first, the index is prefixed to key definition. e.g\n * '1|10001|BB2D2D2FD...'\n *\n * For all keys (including those of index 0), the index must be returned from\n * 'encrypt' calls; the value is needed server-side to determine which private\n * key should be used for decryption.\n *\n * @param {string} rsaKey\n * @returns {Key}\n */\nfunction parseKey(rsaKey) {\n  // Split.\n  var split = rsaKey.split('|');\n  if (split.length < 2 || split.length > 3) {\n    throw new Error('ravelin/encrypt: invalid rsaKey');\n  }\n  var index, modulus, exponent;\n  if (split.length === 2) {\n    index = 0;\n    modulus = split[1];\n    exponent = split[0];\n  } else {\n    index = +split[0];\n    modulus = split[2];\n    exponent = split[1];\n  }\n\n  // Use.\n  var key = new RSAKey();\n  key.setPublic(modulus, exponent); // params specified in reverse order to how we defined the key\n  return {\n    key: key,\n    index: index,\n    sig: sjcl.codec.hex.fromBits(sjcl.hash.sha256.hash(rsaKey))\n  };\n}\n\nfunction aesEncrypt(plaintext) {\n  var aesKeyLength = 256;\n  var wordCount = aesKeyLength/32;\n  var paranoiaCount = 4; // 128 bits of entropy\n\n  var sessionKey = sjcl.random.randomWords(wordCount, paranoiaCount);\n  var iv = sjcl.random.randomWords(wordCount, paranoiaCount);\n\n  var aesBlockCipher = new sjcl.cipher.aes(sessionKey);\n  var bits = sjcl.codec.utf8String.toBits(plaintext);\n  var ciphertext = sjcl.mode.gcm.encrypt(aesBlockCipher, bits, iv, null, 128);\n\n  return {\n    ciphertextB64: sjcl.codec.base64.fromBits(ciphertext),\n    aesKeyB64: sjcl.codec.base64.fromBits(sessionKey),\n    ivB64: sjcl.codec.base64.fromBits(iv)\n  };\n}\n\nfunction rsaEncrypt(pubKey, aesKeyB64, ivB64) {\n  var encryptedHex = pubKey.encrypt(aesKeyB64 + '|' + ivB64);\n  var encryptedBits = sjcl.codec.hex.toBits(encryptedHex);\n  var aesKeyAndIVCiphertextBase64 = sjcl.codec.base64.fromBits(encryptedBits);\n\n  return aesKeyAndIVCiphertextBase64;\n}\n","/**\n* Before reading this source file, open web page [Promises/A+](https://promisesaplus.com).\n*/\n\n\n(function (){\n    /**\n     * This class follows the [Promises/A+](https://promisesaplus.com) and\n     * [ES6](http://people.mozilla.org/~jorendorff/es6-draft.html#sec-promise-objects) spec\n     * with some extra helpers.\n     * @param  {Function} executor Function object with two arguments resolve and reject.\n     * The first argument fulfills the promise, the second argument rejects it.\n     * We can call these functions, once our operation is completed.\n     */\n    var Yaku = function (executor) {\n        executor(genSettler(this, $resolved), genSettler(this, $rejected));\n    };\n\n    try {\n        module.exports = Yaku;\n    } catch (e) {\n        window.Yaku = Yaku;\n    }\n\n    /**\n     * Appends fulfillment and rejection handlers to the promise,\n     * and returns a new promise resolving to the return value of the called handler.\n     * @param  {Function} onFulfilled Optional. Called when the Promise is resolved.\n     * @param  {Function} onRejected  Optional. Called when the Promise is rejected.\n     * @return {Yaku} It will return a new Yaku which will resolve or reject after\n     * the current Promise.\n     */\n    Yaku.prototype.then = function (onFulfilled, onRejected) {\n        return addHandler(this, new Yaku(function () {}), onFulfilled, onRejected);\n    };\n\n\n    /*\n    * All static variable name will begin with `$`. Such as `$rejected`.\n    * @private\n    */\n\n\n    /**\n     * These are some static symbolys.\n     * @private\n     */\n\n    var $rejected = 0;\n\n    var $resolved = 1;\n\n    var $pending = 2;\n\n    // Default state\n    Yaku.prototype._s = $pending;\n\n\n    /**\n     * The number of current promises that attach to this Yaku instance.\n     * @private\n     */\n    Yaku.prototype._c = 0;\n\n\n    /**\n     * It will produce a settlePromise function to user.\n     * Such as the resolve and reject in this `new Yaku (resolve, reject) ->`.\n     * @private\n     * @param  {Yaku} self\n     * @param  {Integer} state The value is one of `$pending`, `$resolved` or `$rejected`.\n     * @return {Function} `(value) -> undefined` A resolve or reject function.\n     */\n    function genSettler (self, state) {\n        return function (value) {\n            return settlePromise(self, state, value);\n        };\n    }\n\n\n    /**\n     * Link the promise1 to the promise2.\n     * @private\n     * @param {Yaku} p1\n     * @param {Yaku} p2\n     * @param {Function} onFulfilled\n     * @param {Function} onRejected\n     */\n    function addHandler (p1, p2, onFulfilled, onRejected) {\n        // 2.2.1\n        if (typeof onFulfilled === 'function') {\n            p2._onFulfilled = onFulfilled;\n        }\n        if (typeof onRejected === 'function') {\n            p2._onRejected = onRejected;\n        }\n\n        // 2.2.6\n        if (p1._s === $pending) {\n            p1[p1._c++] = p2;\n        } else {\n            scheduleHandler(p1, p2);\n        }\n\n        // # 2.2.7\n        return p2;\n    }\n\n\n    /**\n     * Resolve the value returned by onFulfilled or onRejected.\n     * @private\n     * @param {Yaku} p1\n     * @param {Yaku} p2\n     */\n    function scheduleHandler (p1, p2) {\n        return setTimeout(function () {\n            var x, handler = p1._s ? p2._onFulfilled : p2._onRejected;\n\n            // 2.2.7.3\n            // 2.2.7.4\n            if (handler === void 0) {\n                settlePromise(p2, p1._s, p1._v);\n                return;\n            }\n\n            try {\n                // 2.2.5\n                x = handler(p1._v);\n            } catch (err) {\n                // 2.2.7.2\n                settlePromise(p2, $rejected, err);\n                return;\n            }\n\n            // 2.2.7.1\n            settleWithX(p2, x);\n        });\n    }\n\n\n    /**\n     * Resolve or reject a promise.\n     * @param  {Yaku} p\n     * @param  {Integer} state\n     * @param  {Any} value\n     */\n    function settlePromise (p, state, value) {\n        // 2.1.2\n        // 2.1.3\n        if (p._s !== $pending) return;\n\n        // 2.1.1.1\n        p._s = state;\n        p._v = value;\n\n        var i = 0,\n            len = p._c;\n\n        // 2.2.2\n        // 2.2.3\n        while (i < len) {\n            // 2.2.4\n            scheduleHandler(p, p[i++]);\n        }\n\n        return p;\n    }\n\n\n    /**\n     * Resolve or reject primise with value x. The x can also be a thenable.\n     * @private\n     * @param {Yaku} p\n     * @param {Any | Thenable} x A normal value or a thenable.\n     */\n    function settleWithX (p, x) {\n        // 2.3.1\n        if (x === p && x) {\n            settlePromise(p, $rejected, new TypeError('promise_circular_chain'));\n            return;\n        }\n\n        // 2.3.2\n        // 2.3.3\n        var xthen, type = typeof x;\n        if (x !== null && (type === 'function' || type === 'object')) {\n            try {\n                // 2.3.2.1\n                xthen = x.then;\n            } catch (err) {\n                // 2.3.3.2\n                settlePromise(p, $rejected, err);\n                return;\n            }\n            if (typeof xthen === 'function') {\n                settleXthen(p, x, xthen);\n            } else {\n                // 2.3.3.4\n                settlePromise(p, $resolved, x);\n            }\n        } else {\n            // 2.3.4\n            settlePromise(p, $resolved, x);\n        }\n        return p;\n    }\n\n\n    /**\n     * Resolve then with its promise.\n     * @private\n     * @param  {Yaku} p\n     * @param  {Thenable} x\n     * @param  {Function} xthen\n     */\n\n    function settleXthen (p, x, xthen) {\n        try {\n            // 2.3.3.3\n            xthen.call(x, function (y) {\n                // 2.3.3.3.3\n                if (!x) return;\n                x = null;\n\n                // 2.3.3.3.1\n                settleWithX(p, y);\n            }, function (r) {\n                // 2.3.3.3.3\n                if (!x) return;\n                x = null;\n\n                // 2.3.3.3.2\n                settlePromise(p, $rejected, r);\n            });\n        } catch (err) {\n            // 2.3.3.3.4.1\n            if (x) {\n                // 2.3.3.3.4.2\n                settlePromise(p, $rejected, err);\n                x = null;\n            }\n        }\n    }\n\n})();\n","import { Core } from '../core';\nimport { Track } from '../track';\nimport { Encrypt } from '../encrypt';\nimport Promise from '../promise';\n\n/**\n * @typedef {object} Config\n * @mixes CoreConfig\n * @mixes EncryptConfig\n * @mixes TrackConfig\n */\n\n /**\n  * @public\n  * @class\n  * @alias Ravelin\n  * @param {Config} [cfg]\n  */\nfunction Ravelin(cfg) {\n  cfg.Promise = cfg.Promise || window.Promise || Promise;\n  /** @prop {Core} core */\n  this.core = new Core(cfg);\n  /** @prop {Track} track */\n  this.track = new Track(this.core, cfg);\n  /** @prop {Encrypt} encrypt */\n  this.encrypt = new Encrypt(this.core, cfg);\n}\n\nexport default Ravelin;\n"],"names":["_lut","CookieJar","cfg","this","domain","bind","fn","thisArg","args","Array","prototype","slice","call","arguments","Function","apply","concat","uuid","d0","d1","d2","d3","window","crypto","getRandomValues","Int32Array","d","Math","random","i","toString","Core","Promise","key","api","substr","defaultAPI","words","split","length","env","encodeURIComponent","apiFromKey","replace","sendRetryMs","cookies","cookieDomain","sync","init","attach","syncMs","get","name","document","cookie","x","undefined","set","c","cook","value","path","expires","toUTCString","ua","test","hasWebKitSameSiteBug","navigator","userAgent","location","protocol","samesite","deviceIdCookie","id","_id","sniffError","resolve","thirtheenMonthsFromNow","Date","getTime","then","setInterval","_XDomainRequest","XDomainRequest","stringify","obj","toJSON","_array_tojson","str","JSON","Track","core","windowId","sessionId","dimensions","windowDimensions","_attachAll","w","outerWidth","innerWidth","documentElement","clientWidth","body","h","outerHeight","innerHeight","clientHeight","obfsPasteData","attr","e","HTMLElement","getAttribute","debounce","delayMs","wait","clearTimeout","setTimeout","reportError","that","report","send","deviceId","libVer","version","type","msg","message","error","stack","p","method","Error","url","indexOf","P","factory","retries","retryBackoffMs","n","reject","attempt","delay","r","err","promiseRetry","retry","matches","match","host","sameOrigin","_sendXDR","_sendXHR","status","text","XMLHttpRequest","onreadystatechange","readyState","responseText","open","onload","onerror","onprogress","load","_listeners","addEventListener","_attach","target","addFn","delFn","event","handler","paste","resize","attachEvent","push","_detach","pop","_send","props","events","eventType","eventData","eventName","properties","eventMeta","trackingSource","href","ravelinDeviceId","ravelinSessionId","ravelinWindowId","pageTitle","title","referrer","clientEventTimeMilliseconds","now","old","cur","resolutionOld","resolutionNew","sensitive","panField","t","hasAttribute","fieldName","form","formName","formAction","parentNode","treeHasAttr","fieldValue","selectionStart","selectionEnd","clipboardData","pastedData","getData","panCleaned","nums","exec","detectPAN","pastedValue","RSAKey","Arcfour","j","S","next","rng_state","rng_pool","rng_pptr","dbits","rng_seed_time","Uint8Array","appName","appVersion","z","charCodeAt","floor","rng_get_byte","SecureRandom","BigInteger","a","b","fromNumber","fromString","nbi","nextBytes","ba","am","xl","xh","l","m","v","DB","DM","DV","FV","pow","F1","F2","rr","vv","BI_RC","int2char","charAt","intAt","s","nbv","fromInt","nbits","Classic","Montgomery","mp","invDigit","mpl","mph","um","mt2","q","dmp1","dmq1","coeff","convert","compareTo","mod","revert","reduce","divRemTo","mulTo","y","multiplyTo","sqrTo","squareTo","abs","dlShiftTo","ZERO","subTo","copyTo","u0","clamp","drShiftTo","k","fromRadix","mi","sh","max","lShiftTo","bs","cbs","bm","ds","rShiftTo","min","pm","pt","ts","ms","nsh","ys","y0","yt","ONE","qd","isEven","exp","r2","g","negate","toRadix","km","bitLength","modPowInt","doPublic","setPublic","N","E","parseInt","encrypt","rng","pkcs1pad2","sjcl","cipher","hash","keyexchange","mode","misc","codec","exception","corrupt","invalid","bug","notReady","f","u","F","A","K","hasOwnProperty","C","performance","addEntropy","valueOf","L","aes","B","O","decrypt","bitArray","bitSlice","$","extract","getPartial","ceil","partial","round","equal","byteswapM","utf8String","fromBits","String","fromCharCode","decodeURIComponent","escape","toBits","unescape","hex","base32","X","BITS","BASE","REMAINING","toUpperCase","base32hex","base64","base64url","sha256","reset","update","finalize","blockSize","Y","Uint32Array","subarray","splice","ccm","G","listenProgress","unListenProgress","fa","V","data","tag","na","ocb2","pmac","gcm","ka","hmac","W","R","mac","aa","digest","pbkdf2","prng","H","U","Z","o","ha","M","D","progress","seeded","ga","I","J","ca","T","da","randomWords","isReady","setDefaultParanoia","Object","getProgress","startCollectors","loadTimeCollector","ma","mouseCollector","oa","keyboardCollector","la","accelerometerCollector","ea","touchCollector","qa","stopCollectors","removeEventListener","detachEvent","clientX","offsetX","clientY","offsetY","touches","changedTouches","pageX","pageY","accelerationIncludingGravity","orientation","module","exports","__non_webpack_require__","randomBytes","buffer","msCrypto","console","log","Encrypt","card","rsaKey","parseKey","index","modulus","exponent","sig","json","defaults","iter","ks","adata","ja","iv","salt","cachedPbkdf2","ecc","ct","arrayBuffer","ArrayBuffer","encode","ia","raw","decode","sa","ra","pa","firstSalt","prop","aesResult","plaintext","wordCount","paranoiaCount","sessionKey","aesBlockCipher","bits","ciphertext","pan","month","year","nameOnCard","aesKeyLength","ciphertextB64","aesKeyB64","ivB64","pubKey","encryptedHex","encryptedBits","rsaResultB64","methodType","cardCiphertext","aesKeyCiphertext","algorithm","ravelinSDKVersion","keyIndex","keySignature","Yaku","executor","genSettler","$resolved","$rejected","onFulfilled","onRejected","p1","p2","_onFulfilled","_onRejected","_s","_c","scheduleHandler","addHandler","self","state","settlePromise","_v","settleWithX","len","xthen","settleXthen","TypeError","track"],"mappings":"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"}